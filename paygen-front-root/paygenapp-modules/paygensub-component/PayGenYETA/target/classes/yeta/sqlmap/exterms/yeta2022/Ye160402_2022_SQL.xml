<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Ye160402_2022">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="ye160402Srh_2022_Vo" type="com.app.exterms.yearendtax.server.vo.Ye160402Srh_2022_VO"/>
	
	<resultMap id="ye160402_2022" class="com.app.exterms.yearendtax.server.vo.Ye160402_2022_VO">
		<result property="systemkey" column="SYSTEMKEY" columnIndex="1"/>
		<result property="elctYymm" column="ELCT_YYMM" columnIndex="2"/>
		<result property="dpobCd" column="DPOB_CD" columnIndex="3"/>
		<result property="yrtxBlggYr" column="YRTX_BLGG_YR" columnIndex="4"/>
		<result property="clutSeptCd" column="CLUT_SEPT_CD" columnIndex="5"/>
		<result property="taxmSa01Ka" column="TAXM_SA01_KA" columnIndex="6"/>
		<result property="taxmSb01Ka" column="TAXM_SB01_KA" columnIndex="7"/>
		<result property="taxmSc01Ka" column="TAXM_SC01_KA" columnIndex="8"/>
		<result property="taxmSd01Ka" column="TAXM_SD01_KA" columnIndex="9"/>
		<result property="taxmSe01Ka" column="TAXM_SE01_KA" columnIndex="10"/>
		<result property="taxmSe02Ka" column="TAXM_SE02_KA" columnIndex="11"/>
		<result property="taxmSe10Ka" column="TAXM_SE10_KA" columnIndex="12"/>
		<result property="taxmSf01Ka" column="TAXM_SF01_KA" columnIndex="13"/>
		<result property="taxmSg01Ka" column="TAXM_SG01_KA" columnIndex="14"/>
		<result property="taxmSh01Ka" column="TAXM_SH01_KA" columnIndex="15"/>
		<result property="taxmSh02Ka" column="TAXM_SH02_KA" columnIndex="16"/>
		<result property="taxmSh03Ka" column="TAXM_SH03_KA" columnIndex="17"/>
		<result property="taxmSh04Ka" column="TAXM_SH04_KA" columnIndex="18"/>
		<result property="taxmSh05Ka" column="TAXM_SH05_KA" columnIndex="19"/>
		<result property="taxmSh06Ka" column="TAXM_SH06_KA" columnIndex="20"/>
		<result property="taxmSh07Ka" column="TAXM_SH07_KA" columnIndex="21"/>
		<result property="taxmSh08Ka" column="TAXM_SH08_KA" columnIndex="22"/>
		<result property="taxmSh09Ka" column="TAXM_SH09_KA" columnIndex="23"/>
		<result property="taxmSh10Ka" column="TAXM_SH10_KA" columnIndex="24"/>
		<result property="taxmSh14Ka" column="TAXM_SH14_KA" columnIndex="25"/>
		<result property="taxmSh15Ka" column="TAXM_SH15_KA" columnIndex="26"/>
		<result property="taxmSh11Ka" column="TAXM_SH11_KA" columnIndex="27"/>
		<result property="taxmSh12Ka" column="TAXM_SH12_KA" columnIndex="28"/>
		<result property="taxmSh13Ka" column="TAXM_SH13_KA" columnIndex="29"/>
		<result property="taxmSh16Ka" column="TAXM_SH16_KA" columnIndex="30"/>
		<result property="taxmSi01Ka" column="TAXM_SI01_KA" columnIndex="31"/>
		<result property="taxmSj01Ka" column="TAXM_SJ01_KA" columnIndex="32"/>
		<result property="taxmSj10Ka" column="TAXM_SJ10_KA" columnIndex="33"/>
		<result property="taxmSk01Ka" column="TAXM_SK01_KA" columnIndex="34"/>
		<result property="taxmSl01Ka" column="TAXM_SL01_KA" columnIndex="35"/>
		<result property="taxmSm01Ka" column="TAXM_SM01_KA" columnIndex="36"/>
		<result property="taxmSm02Ka" column="TAXM_SM02_KA" columnIndex="37"/>
		<result property="taxmSm03Ka" column="TAXM_SM03_KA" columnIndex="38"/>
		<result property="taxmSn01Ka" column="TAXM_SN01_KA" columnIndex="39"/>
		<result property="taxmSo01Ka" column="TAXM_SO01_KA" columnIndex="40"/>
		<result property="taxmSp01Ka" column="TAXM_SP01_KA" columnIndex="41"/>
		<result property="taxmSp02Ka" column="TAXM_SP02_KA" columnIndex="42"/>
		<result property="taxmSq01Ka" column="TAXM_SQ01_KA" columnIndex="43"/>
		<result property="taxmSr01Ka" column="TAXM_SR01_KA" columnIndex="44"/>
		<result property="taxmSr10Ka" column="TAXM_SR10_KA" columnIndex="45"/>
		<result property="taxmSs01Ka" column="TAXM_SS01_KA" columnIndex="46"/>
		<result property="taxmSy02Ka" column="TAXM_SY02_KA" columnIndex="47"/>
		<result property="taxmSy03Ka" column="TAXM_SY03_KA" columnIndex="48"/>
		<result property="taxmSy04Ka" column="TAXM_SY04_KA" columnIndex="49"/>
		<result property="taxmSy21Ka" column="TAXM_SY21_KA" columnIndex="50"/>
		<result property="taxmSy22Ka" column="TAXM_SY22_KA" columnIndex="51"/>
		<result property="taxmSt01Ka" column="TAXM_ST01_KA" columnIndex="52"/>
		<result property="taxmSt10Ka" column="TAXM_ST10_KA" columnIndex="53"/>
		<result property="taxmSt11Ka" column="TAXM_ST11_KA" columnIndex="54"/>
		<result property="taxmSt12Ka" column="TAXM_ST12_KA" columnIndex="55"/>
		<result property="taxmSt20Ka" column="TAXM_ST20_KA" columnIndex="56"/>
		<result property="kybdr" column="KYBDR" columnIndex="57"/>
		<result property="inptDt" column="INPT_DT" columnIndex="58"/>
		<result property="inptAddr" column="INPT_ADDR" columnIndex="59"/>
		<result property="ismt" column="ISMT" columnIndex="60"/>
		<result property="revnDt" column="REVN_DT" columnIndex="61"/>
		<result property="revnAddr" column="REVN_ADDR" columnIndex="62"/>
	</resultMap>
	
	<insert id="ye160402_2022_DAO.insertYe160402_S">
		<![CDATA[
			INSERT INTO YE160402 
				( SYSTEMKEY
				  , ELCT_YYMM
				  , DPOB_CD
				  , YRTX_BLGG_YR
				  , CLUT_SEPT_CD
				  , TAXM_SA01_KA
				  , TAXM_SB01_KA
				  , TAXM_SC01_KA
				  , TAXM_SD01_KA
				  , TAXM_SE01_KA
				  , TAXM_SE02_KA
				  , TAXM_SE10_KA
				  , TAXM_SF01_KA
				  , TAXM_SG01_KA
				  , TAXM_SH01_KA
				  , TAXM_SH02_KA
				  , TAXM_SH03_KA
				  , TAXM_SH04_KA
				  , TAXM_SH05_KA
				  , TAXM_SH06_KA
				  , TAXM_SH07_KA
				  , TAXM_SH08_KA
				  , TAXM_SH09_KA
				  , TAXM_SH10_KA
				  , TAXM_SH14_KA
				  , TAXM_SH15_KA
				  , TAXM_SH11_KA
				  , TAXM_SH12_KA
				  , TAXM_SH13_KA
				  , TAXM_SH16_KA
				  , TAXM_SI01_KA
				  , TAXM_SJ01_KA
				  , TAXM_SJ10_KA
				  , TAXM_SK01_KA
				  , TAXM_SL01_KA
				  , TAXM_SM01_KA
				  , TAXM_SM02_KA
				  , TAXM_SM03_KA
				  , TAXM_SN01_KA
				  , TAXM_SO01_KA
				  , TAXM_SP01_KA
				  , TAXM_SP02_KA
				  , TAXM_SQ01_KA
				  , TAXM_SR01_KA
				  , TAXM_SR10_KA
				  , TAXM_SS01_KA
				  , TAXM_SY02_KA
				  , TAXM_SY03_KA
				  , TAXM_SY04_KA
				  , TAXM_SY21_KA
				  , TAXM_SY22_KA
				  , TAXM_ST01_KA
				  , TAXM_ST10_KA
				  , TAXM_ST11_KA
				  , TAXM_ST12_KA
				  , TAXM_ST20_KA
				  , KYBDR
				  , INPT_DT
				  , INPT_ADDR
				  , ISMT
				  , REVN_DT
				  , REVN_ADDR )
			VALUES ( #systemkey#
				  , #elctYymm#
				  , #dpobCd#
				  , #yrtxBlggYr#
				  , #clutSeptCd#
				  , #taxmSa01Ka#
				  , #taxmSb01Ka#
				  , #taxmSc01Ka#
				  , #taxmSd01Ka#
				  , #taxmSe01Ka#
				  , #taxmSe02Ka#
				  , #taxmSe10Ka#
				  , #taxmSf01Ka#
				  , #taxmSg01Ka#
				  , #taxmSh01Ka#
				  , #taxmSh02Ka#
				  , #taxmSh03Ka#
				  , #taxmSh04Ka#
				  , #taxmSh05Ka#
				  , #taxmSh06Ka#
				  , #taxmSh07Ka#
				  , #taxmSh08Ka#
				  , #taxmSh09Ka#
				  , #taxmSh10Ka#
				  , #taxmSh14Ka#
				  , #taxmSh15Ka#
				  , #taxmSh11Ka#
				  , #taxmSh12Ka#
				  , #taxmSh13Ka#
				  , #taxmSh16Ka#
				  , #taxmSi01Ka#
				  , #taxmSj01Ka#
				  , #taxmSj10Ka#
				  , #taxmSk01Ka#
				  , #taxmSl01Ka#
				  , #taxmSm01Ka#
				  , #taxmSm02Ka#
				  , #taxmSm03Ka#
				  , #taxmSn01Ka#
				  , #taxmSo01Ka#
				  , #taxmSp01Ka#
				  , #taxmSp02Ka#
				  , #taxmSq01Ka#
				  , #taxmSr01Ka#
				  , #taxmSr10Ka#
				  , #taxmSs01Ka#
				  , #taxmSy02Ka#
				  , #taxmSy03Ka#
				  , #taxmSy04Ka#
				  , #taxmSy21Ka#
				  , #taxmSy22Ka#
				  , #taxmSt01Ka#
				  , #taxmSt10Ka#
				  , #taxmSt11Ka#
				  , #taxmSt12Ka#
				  , #taxmSt20Ka#
				  , #kybdr#
				  , #inptDt#
				  , #inptAddr#
				  , #ismt#
				  , #revnDt#
				  , #revnAddr# )
		]]>
	</insert>
	
	<update id="ye160402_2022_DAO.updateYe160402_S">
		<![CDATA[
			UPDATE YE160402
			SET SYSTEMKEY=#systemkey#
				, ELCT_YYMM=#elctYymm#
				, DPOB_CD=#dpobCd#
				, YRTX_BLGG_YR=#yrtxBlggYr#
				, CLUT_SEPT_CD=#clutSeptCd#
				, TAXM_SA01_KA=#taxmSa01Ka#
				, TAXM_SB01_KA=#taxmSb01Ka#
				, TAXM_SC01_KA=#taxmSc01Ka#
				, TAXM_SD01_KA=#taxmSd01Ka#
				, TAXM_SE01_KA=#taxmSe01Ka#
				, TAXM_SE02_KA=#taxmSe02Ka#
				, TAXM_SE10_KA=#taxmSe10Ka#
				, TAXM_SF01_KA=#taxmSf01Ka#
				, TAXM_SG01_KA=#taxmSg01Ka#
				, TAXM_SH01_KA=#taxmSh01Ka#
				, TAXM_SH02_KA=#taxmSh02Ka#
				, TAXM_SH03_KA=#taxmSh03Ka#
				, TAXM_SH04_KA=#taxmSh04Ka#
				, TAXM_SH05_KA=#taxmSh05Ka#
				, TAXM_SH06_KA=#taxmSh06Ka#
				, TAXM_SH07_KA=#taxmSh07Ka#
				, TAXM_SH08_KA=#taxmSh08Ka#
				, TAXM_SH09_KA=#taxmSh09Ka#
				, TAXM_SH10_KA=#taxmSh10Ka#
				, TAXM_SH14_KA=#taxmSh14Ka#
				, TAXM_SH15_KA=#taxmSh15Ka#
				, TAXM_SH11_KA=#taxmSh11Ka#
				, TAXM_SH12_KA=#taxmSh12Ka#
				, TAXM_SH13_KA=#taxmSh13Ka#
				, TAXM_SH16_KA=#taxmSh16Ka#
				, TAXM_SI01_KA=#taxmSi01Ka#
				, TAXM_SJ01_KA=#taxmSj01Ka#
				, TAXM_SJ10_KA=#taxmSj10Ka#
				, TAXM_SK01_KA=#taxmSk01Ka#
				, TAXM_SL01_KA=#taxmSl01Ka#
				, TAXM_SM01_KA=#taxmSm01Ka#
				, TAXM_SM02_KA=#taxmSm02Ka#
				, TAXM_SM03_KA=#taxmSm03Ka#
				, TAXM_SN01_KA=#taxmSn01Ka#
				, TAXM_SO01_KA=#taxmSo01Ka#
				, TAXM_SP01_KA=#taxmSp01Ka#
				, TAXM_SP02_KA=#taxmSp02Ka#
				, TAXM_SQ01_KA=#taxmSq01Ka#
				, TAXM_SR01_KA=#taxmSr01Ka#
				, TAXM_SR10_KA=#taxmSr10Ka#
				, TAXM_SS01_KA=#taxmSs01Ka#
				, TAXM_SY02_KA=#taxmSy02Ka#
				, TAXM_SY03_KA=#taxmSy03Ka#
				, TAXM_SY04_KA=#taxmSy04Ka#
				, TAXM_SY21_KA=#taxmSy21Ka#
				, TAXM_SY22_KA=#taxmSy22Ka#
				, TAXM_ST01_KA=#taxmSt01Ka#
				, TAXM_ST10_KA=#taxmSt10Ka#
				, TAXM_ST11_KA=#taxmSt11Ka#
				, TAXM_ST12_KA=#taxmSt12Ka#
				, TAXM_ST20_KA=#taxmSt20Ka#
				, KYBDR=#kybdr#
				, INPT_DT=#inptDt#
				, INPT_ADDR=#inptAddr#
				, ISMT=#ismt#
				, REVN_DT=#revnDt#
				, REVN_ADDR=#revnAddr#
						WHERE SYSTEMKEY=#systemkey#
								AND ELCT_YYMM=#elctYymm#
								AND DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
				]]>
	</update>
	
	<delete id="ye160402_2022_DAO.deleteYe160402_S">
		<![CDATA[
			DELETE FROM YE160402 
						WHERE SYSTEMKEY=#systemkey#
								AND ELCT_YYMM=#elctYymm#
								AND DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
				]]>
	</delete>
	
	<delete id="ye160402_2022_DAO.deleteYeta7100ToYe160402_S">
		<![CDATA[
			DELETE FROM YE160402 
						WHERE DPOB_CD=#dpobCd# 
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
			            AND SYSTEMKEY=#systemkey#
				]]>
	</delete>
	
	<delete id="ye160402_2022_DAO.fnYeta7100_Ye160402_CREATE_Delete">
		<![CDATA[
			DELETE FROM YE160402 
						WHERE SYSTEMKEY=#systemkey#
								AND DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
				]]>
	</delete>
	<!-- AND ELCT_YYMM IN ( SELECT AA.PYYT_YR_MNTH
													FROM PYYT0302 AA
												 WHERE AA.DPOB_CD=#dpobCd#
												 	AND AA.SYSTEMKEY = #systemkey#) -->
	
	<select id="ye160402_2022_DAO.selectYe160402_S" resultMap="ye160402_2022">
		<![CDATA[
			SELECT
				SYSTEMKEY
				, ELCT_YYMM
				, DPOB_CD
				, YRTX_BLGG_YR
				, CLUT_SEPT_CD
				, TAXM_SA01_KA
				, TAXM_SB01_KA
				, TAXM_SC01_KA
				, TAXM_SD01_KA
				, TAXM_SE01_KA
				, TAXM_SE02_KA
				, TAXM_SE10_KA
				, TAXM_SF01_KA
				, TAXM_SG01_KA
				, TAXM_SH01_KA
				, TAXM_SH02_KA
				, TAXM_SH03_KA
				, TAXM_SH04_KA
				, TAXM_SH05_KA
				, TAXM_SH06_KA
				, TAXM_SH07_KA
				, TAXM_SH08_KA
				, TAXM_SH09_KA
				, TAXM_SH10_KA
				, TAXM_SH14_KA
				, TAXM_SH15_KA
				, TAXM_SH11_KA
				, TAXM_SH12_KA
				, TAXM_SH13_KA
				, TAXM_SH16_KA
				, TAXM_SI01_KA
				, TAXM_SJ01_KA
				, TAXM_SJ10_KA
				, TAXM_SK01_KA
				, TAXM_SL01_KA
				, TAXM_SM01_KA
				, TAXM_SM02_KA
				, TAXM_SM03_KA
				, TAXM_SN01_KA
				, TAXM_SO01_KA
				, TAXM_SP01_KA
				, TAXM_SP02_KA
				, TAXM_SQ01_KA
				, TAXM_SR01_KA
				, TAXM_SR10_KA
				, TAXM_SS01_KA
				, TAXM_SY02_KA
				, TAXM_SY03_KA
				, TAXM_SY04_KA
				, TAXM_SY21_KA
				, TAXM_SY22_KA
				, TAXM_ST01_KA
				, TAXM_ST10_KA
				, TAXM_ST11_KA
				, TAXM_ST12_KA
				, TAXM_ST20_KA
				, KYBDR
				, INPT_DT
				, INPT_ADDR
				, ISMT
				, REVN_DT
				, REVN_ADDR
			FROM YE160402
						WHERE SYSTEMKEY=#systemkey#
								AND ELCT_YYMM=#elctYymm#
								AND DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
				]]>
	</select>
	
	<select id="ye160402_2022_DAO.selectYe160402List_D" parameterClass="ye160402Srh_2022_Vo" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
				SELECT
								SYSTEMKEY
								, ELCT_YYMM
								, DPOB_CD
								, YRTX_BLGG_YR
								, CLUT_SEPT_CD
								, TAXM_SA01_KA
								, TAXM_SB01_KA
								, TAXM_SC01_KA
								, TAXM_SD01_KA
								, TAXM_SE01_KA
								, TAXM_SE02_KA
								, TAXM_SE10_KA
								, TAXM_SF01_KA
								, TAXM_SG01_KA
								, TAXM_SH01_KA
								, TAXM_SH02_KA
								, TAXM_SH03_KA
								, TAXM_SH04_KA
								, TAXM_SH05_KA
								, TAXM_SH06_KA
								, TAXM_SH07_KA
								, TAXM_SH08_KA
								, TAXM_SH09_KA
								, TAXM_SH10_KA
								, TAXM_SH14_KA
								, TAXM_SH15_KA
								, TAXM_SH11_KA
								, TAXM_SH12_KA
								, TAXM_SH13_KA
								, TAXM_SH16_KA
								, TAXM_SI01_KA
								, TAXM_SJ01_KA
								, TAXM_SJ10_KA
								, TAXM_SK01_KA
								, TAXM_SL01_KA
								, TAXM_SM01_KA
								, TAXM_SM02_KA
								, TAXM_SM03_KA
								, TAXM_SN01_KA
								, TAXM_SO01_KA
								, TAXM_SP01_KA
								, TAXM_SP02_KA
								, TAXM_SQ01_KA
								, TAXM_SR01_KA
								, TAXM_SR10_KA
								, TAXM_SS01_KA
								, TAXM_SY02_KA
								, TAXM_SY03_KA
								, TAXM_SY04_KA
								, TAXM_SY21_KA
								, TAXM_SY22_KA
								, TAXM_ST01_KA
								, TAXM_ST10_KA
								, TAXM_ST11_KA
								, TAXM_ST12_KA
								, TAXM_ST20_KA
								, KYBDR
								, INPT_DT
								, INPT_ADDR
								, ISMT
								, REVN_DT
								, REVN_ADDR
						FROM YE160402
				WHERE 1=1
				<isEqual prepend="AND" property="searchCondition" compareValue="0">
					SYSTEMKEY = #searchKeyword#
				</isEqual>
				<isEqual prepend="AND" property="searchCondition" compareValue="1">
					ELCT_YYMM LIKE '%' || #searchKeyword# || '%'
				</isEqual>
					ORDER BY 
						SYSTEMKEY DESC
							, ELCT_YYMM DESC
							, DPOB_CD DESC
							, YRTX_BLGG_YR DESC
							, CLUT_SEPT_CD DESC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>	
	<select id="ye160402_2022_DAO.selectYe160402ListTotCnt_S" parameterClass="ye160402Srh_2022_Vo" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM YE160402
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				SYSTEMKEY = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				ELCT_YYMM LIKE '%' || #searchKeyword# || '%'
			</isEqual>
	</select>
	
<!-- ##################################### 2022년도 귀속 로직  시작  ##################################### -->	

	<delete id="ye160402_2022_DAO.deleteYetaP710001_Ye160402VO_2022_Delete_S">
		<![CDATA[
			DELETE FROM YE160402 
						WHERE DPOB_CD=#dpobCd# 
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
			            AND SYSTEMKEY=#systemkey#
				]]>
	</delete>
	
</sqlMap>
