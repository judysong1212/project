<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Ye162510_2022">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="ye162510Srh_2022_VO" type="com.app.exterms.yearendtax.server.vo.Ye162510Srh_2022_VO"/>
	
	<resultMap id="ye162510_2022" class="com.app.exterms.yearendtax.server.vo.Ye162510_2022_VO">
		<result property="yrtxBlggYr" column="YRTX_BLGG_YR" columnIndex="1"/> 
		<result property="clutSeptCd" column="CLUT_SEPT_CD" columnIndex="2"/> 
		<result property="mnthRntQntySeilNum" column="MNTH_RNT_QNTY_SEIL_NUM" columnIndex="3"/> 
		<result property="dpobCd" column="DPOB_CD" columnIndex="4"/> 
		<result property="systemkey" column="SYSTEMKEY" columnIndex="5"/> 
		<result property="mnthRnttyLehdrNm" column="MNTH_RNTTY_LEHDR_NM" columnIndex="6"/> 
		<result property="mnthRnttyBurRgsum" column="MNTH_RNTTY_BUR_RGSUM" columnIndex="7"/> 
		<result property="mnthRnttyHusFrmCd" column="MNTH_RNTTY_HUS_FRM_CD" columnIndex="8"/> 
		<result property="mnthRnttyHusCnttArea" column="MNTH_RNTTY_HUS_CNTT_AREA" columnIndex="9"/> 
		<result property="mnthRnttyRntlAddr" column="MNTH_RNTTY_RNTL_ADDR" columnIndex="10"/> 
		<result property="mnthRnttyRntlBgnnDt" column="MNTH_RNTTY_RNTL_BGNN_DT" columnIndex="11"/> 
		<result property="mnthRnttyRntlEndDt" column="MNTH_RNTTY_RNTL_END_DT" columnIndex="12"/>  
		<result property="mnthRnttyYrlyMnthSum" column="MNTH_RNTTY_YRLY_MNTH_SUM" columnIndex="13"/> 
		<result property="mnthRnttyTxDducSum" column="MNTH_RNTTY_TX_DDUC_SUM" columnIndex="14"/> 
		<result property="kybdr" column="KYBDR" columnIndex="15"/>
		<result property="inptDt" column="INPT_DT" columnIndex="16"/>
		<result property="inptAddr" column="INPT_ADDR" columnIndex="17"/>
		<result property="ismt" column="ISMT" columnIndex="18"/>
		<result property="revnDt" column="REVN_DT" columnIndex="19"/>
		<result property="revnAddr" column="REVN_ADDR" columnIndex="20"/>
		<result property="ectnFlTrnrCtlYn" column="ECTN_FL_TRNR_CTL_YN" columnIndex="21"/> 
	</resultMap>
	
	
	
	
	
		<!-- 
	#############################################################################
	######################## 2022년도 연말정산 로직 시작 ############################
	#############################################################################
	 -->
	  		
	<insert id="ye162510_2022_DAO.insertYetaP73005ToYe162510_S">
		<![CDATA[
			INSERT INTO YE162510 
				( DPOB_CD					
					, YRTX_BLGG_YR			
					, CLUT_SEPT_CD			
					, SYSTEMKEY				
					, MNTH_RNT_QNTY_SEIL_NUM	
					, TAX_VVAL_KRN_CD
					, MNTH_RNTTY_LEHDR_NM		
					, MNTH_RNTTY_BUR_RGSUM	
					, MNTH_RNTTY_HUS_FRM_CD	
					, MNTH_RNTTY_HUS_CNTT_AREA
					, MNTH_RNTTY_RNTL_ADDR	
					, MNTH_RNTTY_RNTL_BGNN_DT	
					, MNTH_RNTTY_RNTL_END_DT	
					, MNTH_RNTTY_YRLY_MNTH_SUM
					, MNTH_RNTTY_TX_DDUC_SUM	
					, MNTH_RNTTY_YRLY_TGT_SUM
					, ECTN_FL_TRNR_CTL_YN		
					, KYBDR					
					, INPT_DT					
					, INPT_ADDR				
					, ISMT					
					, REVN_DT					
					, REVN_ADDR )
			VALUES ( #dpobCd#					
						, #yrtxBlggYr#		
						, #clutSeptCd#			
						, #systemkey#				
						, ( SELECT NVL( MAX(MNTH_RNT_QNTY_SEIL_NUM)+1 ,1)  
                       		  FROM YE162510  
                            WHERE DPOB_CD=#dpobCd# 
		         				AND YRTX_BLGG_YR=#yrtxBlggYr# 
		                        AND CLUT_SEPT_CD=#clutSeptCd# 
                                AND SYSTEMKEY=#systemkey# )	
                        , #taxVvalKrnCd#
						, #mnthRnttyLehdrNm#		
						, #mnthRnttyBurRgsum#	
						, #mnthRnttyHusFrmCd#	
						, #mnthRnttyHusCnttArea#
						, #mnthRnttyRntlAddr#	
						, #mnthRnttyRntlBgnnDt#	
						, #mnthRnttyRntlEndDt#	
						, #mnthRnttyYrlyMnthSum#
						, #mnthRnttyTxDducSum#	
						, #mnthRnttyYrlyMnthSum#
						, #ectnFlTrnrCtlYn#		
						, #kybdr#			
						, TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')					
						, #inptAddr#				
						, #ismt#				
						, TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')					
						, #revnAddr# )
		]]>
	</insert>
	
	<!-- , ECTN_FL_TRNR_CTL_YN 		= #ectnFlTrnrCtlYn# -->
	<update id="ye162510_2022_DAO.updateYetaP73005ToYe162510_S">
		<![CDATA[
		UPDATE YE162510
			SET MNTH_RNTTY_LEHDR_NM 		= #mnthRnttyLehdrNm#
				, MNTH_RNTTY_BUR_RGSUM 		= #mnthRnttyBurRgsum#	
				, MNTH_RNTTY_HUS_FRM_CD	 	= #mnthRnttyHusFrmCd#
				, MNTH_RNTTY_HUS_CNTT_AREA 	= #mnthRnttyHusCnttArea#
				, MNTH_RNTTY_RNTL_ADDR 		= #mnthRnttyRntlAddr#
				, MNTH_RNTTY_RNTL_BGNN_DT 	= #mnthRnttyRntlBgnnDt#	
				, MNTH_RNTTY_RNTL_END_DT 	= #mnthRnttyRntlEndDt#
				, MNTH_RNTTY_YRLY_MNTH_SUM 	= #mnthRnttyYrlyMnthSum#
				, MNTH_RNTTY_TX_DDUC_SUM 	= #mnthRnttyTxDducSum#
				, MNTH_RNTTY_YRLY_TGT_SUM 	= #mnthRnttyYrlyMnthSum#
				, ISMT						= #ismt#					
				, REVN_DT					= TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')		
				, REVN_ADDR					= #revnAddr#
				
		WHERE DPOB_CD 					= #dpobCd#					
			AND YRTX_BLGG_YR 			= #yrtxBlggYr#		
			AND CLUT_SEPT_CD 			= #clutSeptCd#		
			AND SYSTEMKEY 				= #systemkey#		
			AND MNTH_RNT_QNTY_SEIL_NUM 	= #mnthRntQntySeilNum#
			AND TAX_VVAL_KRN_CD 		= #taxVvalKrnCd#
		]]>
	</update>
	
	<delete id="ye162510_2022_DAO.deleteYetaP73005ToYe162510_S">
		<![CDATA[
			DELETE FROM YE162510 
				WHERE DPOB_CD 					= #dpobCd#					
					AND YRTX_BLGG_YR 			= #yrtxBlggYr#		
					AND CLUT_SEPT_CD 			= #clutSeptCd#		
					AND SYSTEMKEY 				= #systemkey#		
					AND MNTH_RNT_QNTY_SEIL_NUM 	= #mnthRntQntySeilNum#
					AND TAX_VVAL_KRN_CD 		= #taxVvalKrnCd#
			]]>
	</delete>
	
	
	<select id="ye162510_2022_DAO.seleteYetaP73005ToYe162510_D" parameterClass="ye162510Srh_2022_VO" resultClass="egovMap">
		SELECT * FROM (
			SELECT A.*, ROWNUM RNUM 
				FROM ( SELECT DPOB_CD					
								, YRTX_BLGG_YR			
								, CLUT_SEPT_CD			
								, SYSTEMKEY				
								, MNTH_RNT_QNTY_SEIL_NUM
								, TAX_VVAL_KRN_CD	
								, fcBass0300CDNM(DPOB_CD, TAX_VVAL_KRN_CD) AS TAX_VVAL_KRN_NM	
								, MNTH_RNTTY_LEHDR_NM		
								, MNTH_RNTTY_BUR_RGSUM	
								, MNTH_RNTTY_HUS_FRM_CD
								, MNTH_RNTTY_HUS_FRM_CD AS mnthRnttyHusFrmCdcommCd	
								, fcBass0300CDNM(DPOB_CD, MNTH_RNTTY_HUS_FRM_CD) AS mnthRnttyHusFrmCdcommCdNm 	
								, MNTH_RNTTY_HUS_CNTT_AREA
								, MNTH_RNTTY_RNTL_ADDR	
								, MNTH_RNTTY_RNTL_BGNN_DT	
								, MNTH_RNTTY_RNTL_END_DT	
								, MNTH_RNTTY_YRLY_MNTH_SUM
								, MNTH_RNTTY_TX_DDUC_SUM	
								, ECTN_FL_TRNR_CTL_YN		
								, KYBDR					
								, INPT_DT					
								, INPT_ADDR				
								, ISMT					
								, REVN_DT					
								, REVN_ADDR			
													
							FROM YE162510
							
						WHERE DPOB_CD=#dpobCd#
							AND YRTX_BLGG_YR=#yrtxBlggYr#
							AND CLUT_SEPT_CD=#clutSeptCd#
							AND SYSTEMKEY=#systemkey#
							
						ORDER BY DPOB_CD					
								, YRTX_BLGG_YR			
								, CLUT_SEPT_CD			
								, SYSTEMKEY				
								, MNTH_RNTTY_LEHDR_NM			
								, MNTH_RNTTY_BUR_RGSUM	
								, MNTH_RNTTY_RNTL_BGNN_DT
				<![CDATA[					
			) A WHERE ROWNUM <= #lastIndex#
		)WHERE RNUM >= #firstIndex#
		]]>
	</select>	
	
	<select id="ye162510_2022_DAO.seleteYetaP73005ToYe162510ListCnt_S" parameterClass="ye162510Srh_2022_VO" resultClass="int">
		SELECT COUNT(SYSTEMKEY) totcnt
		  FROM YE162510
		WHERE DPOB_CD 				= #dpobCd#					
			AND YRTX_BLGG_YR 		= #yrtxBlggYr#		
			AND CLUT_SEPT_CD 		= #clutSeptCd#		
			AND SYSTEMKEY 			= #systemkey#		
	</select>	 
	 
	<!-- 
	#############################################################################
	######################## 2022년도 연말정산 로직 종료 ############################
	#############################################################################
	 -->	
	 
	 
	 
<!-- +++++++++++++++++++++++++ 2022년도 귀속 로직  시작 ++++++++++++++++++++++++++++++ -->

	<delete id="ye162510_2022_DAO.deleteYetaP710001_Ye162510VO_2022_Delete_S">
		<![CDATA[
 			DELETE FROM YE162510  
 						WHERE YRTX_BLGG_YR=#yrtxBlggYr# 
 								AND CLUT_SEPT_CD=#clutSeptCd#  
 								AND DPOB_CD=#dpobCd# 
 								AND SYSTEMKEY=#systemkey# 
 				]]> 
	</delete>

<!-- +++++++++++++++++++++++++ 2022년도 귀속 로직  종료 ++++++++++++++++++++++++++++++ -->

	
	<insert id="ye162510_2022_DAO.insertYe162510_S">
		<![CDATA[
 			INSERT INTO YE162510  
                 ( YRTX_BLGG_YR 
                   , CLUT_SEPT_CD 
                   , MNTH_RNT_QNTY_SEIL_NUM 
                   , DPOB_CD 
                   , SYSTEMKEY 
                   , MNTH_RNTTY_LEHDR_NM 
                   , MNTH_RNTTY_BUR_RGSUM 
                   , MNTH_RNTTY_HUS_FRM_CD 
                   , MNTH_RNTTY_HUS_CNTT_AREA 
                   , MNTH_RNTTY_RNTL_ADDR 
                   , MNTH_RNTTY_RNTL_BGNN_DT 
                   , MNTH_RNTTY_RNTL_END_DT 
                   , MNTH_RNTTY_YRLY_MNTH_SUM 
                   , MNTH_RNTTY_TX_DDUC_SUM 
                   , ECTN_FL_TRNR_CTL_YN
                   , KYBDR 
                   , INPT_DT 
                   , INPT_ADDR 
                   , ISMT 
                   , REVN_DT 
                   , REVN_ADDR ) 
             VALUES ( #yrtxBlggYr# 
                   , #clutSeptCd# 
                   , (SELECT NVL(MAX(MNTH_RNT_QNTY_SEIL_NUM)+1,1)  
                         FROM YE162510  
                         WHERE DPOB_CD=#dpobCd# 
                             AND YRTX_BLGG_YR=#yrtxBlggYr# 
                             AND CLUT_SEPT_CD=#clutSeptCd# 
                             AND SYSTEMKEY=#systemkey#)  
                   , #dpobCd# 
                   , #systemkey# 
                   , #mnthRnttyLehdrNm# 
                   , #mnthRnttyBurRgsum# 
                   , (fcBass0300ITEMNM(#dpobCd#, #mnthRnttyHusFrmCd#, '11')) 
                   , #mnthRnttyHusCnttArea# 
                   , #mnthRnttyRntlAddr# 
                   , #mnthRnttyRntlBgnnDt# 
                   , #mnthRnttyRntlEndDt# 
                   , #mnthRnttyYrlyMnthSum#
                   , #ectnFlTrnrCtlYn# 
                   , (CASE WHEN  ((CASE WHEN  NVL(#mnthRnttyTxDducSum#,0) > 7500000 THEN  7500000        
                            ELSE  NVL(#mnthRnttyTxDducSum#,0)   END) * 0.10) > 750000 THEN  750000        
                           ELSE   (CASE WHEN  NVL(#mnthRnttyTxDducSum#,0) > 7500000 THEN  7500000        
                             ELSE  NVL(#mnthRnttyTxDducSum#,0)   END) * 0.10      END)  
                   , #kybdr# 
                   , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS') 
                   , #inptAddr# 
                   , #ismt# 
                   , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS') 
                   , #revnAddr# )
 		]]> 
	</insert>
	
	<update id="ye162510_2022_DAO.updateYe162510_S">
		<![CDATA[
 		UPDATE YE162510 
             SET YRTX_BLGG_YR=#yrtxBlggYr# 
                 , CLUT_SEPT_CD=#clutSeptCd# 
                 , MNTH_RNT_QNTY_SEIL_NUM=#mnthRntQntySeilNum# 
                 , DPOB_CD=#dpobCd# 
                 , SYSTEMKEY=#systemkey# 
                 , MNTH_RNTTY_LEHDR_NM=#mnthRnttyLehdrNm# 
                 , MNTH_RNTTY_BUR_RGSUM=#mnthRnttyBurRgsum# 
                 , MNTH_RNTTY_HUS_FRM_CD=(fcBass0300ITEMNM(#dpobCd#, #mnthRnttyHusFrmCd#, '11')) 
                 , MNTH_RNTTY_HUS_CNTT_AREA=#mnthRnttyHusCnttArea# 
                 , MNTH_RNTTY_RNTL_ADDR=#mnthRnttyRntlAddr# 
                 , MNTH_RNTTY_RNTL_BGNN_DT=#mnthRnttyRntlBgnnDt# 
                 , MNTH_RNTTY_RNTL_END_DT=#mnthRnttyRntlEndDt# 
                 , MNTH_RNTTY_YRLY_MNTH_SUM=#mnthRnttyYrlyMnthSum# 
                 , MNTH_RNTTY_TX_DDUC_SUM=(CASE WHEN  ((CASE WHEN  NVL(#mnthRnttyTxDducSum#,0) > 7500000 THEN  7500000        
                            ELSE  NVL(#mnthRnttyTxDducSum#,0)   END) * 0.10) > 750000 THEN  750000        
                           ELSE   (CASE WHEN  NVL(#mnthRnttyTxDducSum#,0) > 7500000 THEN  7500000        
                             ELSE  NVL(#mnthRnttyTxDducSum#,0)   END) * 0.10      END)  
                 , ECTN_FL_TRNR_CTL_YN=#ectnFlTrnrCtlYn#
                 , ISMT=#ismt# 
                 , REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS') 
                 , REVN_ADDR=#revnAddr# 
                         WHERE YRTX_BLGG_YR=#yrtxBlggYr# 
                                 AND CLUT_SEPT_CD=#clutSeptCd# 
                                 AND MNTH_RNT_QNTY_SEIL_NUM=#mnthRntQntySeilNum# 
                                 AND DPOB_CD=#dpobCd# 
                                 AND SYSTEMKEY=#systemkey#  
 				]]> 
	</update>
	
	<delete id="ye162510_2022_DAO.deleteYe162510_S">
		<![CDATA[
 			DELETE FROM YE162510  
 						WHERE YRTX_BLGG_YR=#yrtxBlggYr# 
 								AND CLUT_SEPT_CD=#clutSeptCd# 
 								AND MNTH_RNT_QNTY_SEIL_NUM=#mnthRntQntySeilNum# 
 								AND DPOB_CD=#dpobCd# 
 								AND SYSTEMKEY=#systemkey# 
 				]]> 
	</delete>
	
	<!-- yeta0100 화면 연말정산대상자관리  -->
	 <delete id="ye162510_2022_DAO.fnPayr06430_PAYR452_CREATE_Delete_S">
		<![CDATA[
 			DELETE FROM YE162510  
 						WHERE YRTX_BLGG_YR=#yrtxBlggYr# 
 								AND CLUT_SEPT_CD=#clutSeptCd#  
 								AND DPOB_CD=#dpobCd#  
 				]]> 
				<isNotEmpty prepend="AND" property="systemkey" >
                      SYSTEMKEY=#systemkey#
                   </isNotEmpty> 
		    		  			    
	</delete>
	
	
	<select id="ye162510_2022_DAO.selectYe162510_S" resultMap="ye162510_2022">
		<![CDATA[
 			SELECT 
                 YRTX_BLGG_YR 
                 , CLUT_SEPT_CD 
                 , MNTH_RNT_QNTY_SEIL_NUM 
                 , DPOB_CD 
                 , SYSTEMKEY 
                 , MNTH_RNTTY_LEHDR_NM 
                 , MNTH_RNTTY_BUR_RGSUM 
                 , MNTH_RNTTY_HUS_FRM_CD 
                 , MNTH_RNTTY_HUS_CNTT_AREA 
                 , MNTH_RNTTY_RNTL_ADDR 
                 , MNTH_RNTTY_RNTL_BGNN_DT 
                 , MNTH_RNTTY_RNTL_END_DT 
                 , MNTH_RNTTY_YRLY_MNTH_SUM 
                 , MNTH_RNTTY_TX_DDUC_SUM
                 , ECTN_FL_TRNR_CTL_YN 
                 , KYBDR 
                 , INPT_DT 
                 , INPT_ADDR 
                 , ISMT 
                 , REVN_DT 
                 , REVN_ADDR 
             FROM YE162510 
                         WHERE YRTX_BLGG_YR=#yrtxBlggYr# 
                                 AND CLUT_SEPT_CD=#clutSeptCd# 
                                 AND MNTH_RNT_QNTY_SEIL_NUM=#mnthRntQntySeilNum# 
                                 AND DPOB_CD=#dpobCd# 
                                 AND SYSTEMKEY=#systemkey# 
 				]]> 
	</select>
	
	<!-- 월세액소득공제 리스트 -->
	<select id="ye162510_2022_DAO.selectYeT13019To162510List_D" parameterClass="ye162510Srh_2022_VO" resultClass="egovMap">
		SELECT * FROM (
            SELECT A.*, ROWNUM RNUM FROM (
                        SELECT
                                        YRTX_BLGG_YR
                                        , CLUT_SEPT_CD
                                        , fcBass0300CDNM(DPOB_CD, CLUT_SEPT_CD) AS CLUT_SEPT_NM
                                        , CLUT_SEPT_CD as settGbcdcommCd
                                        , MNTH_RNT_QNTY_SEIL_NUM
                                        , DPOB_CD
                                        , SYSTEMKEY
                                        , MNTH_RNTTY_LEHDR_NM
                                        , MNTH_RNTTY_BUR_RGSUM
                                        , MNTH_RNTTY_HUS_FRM_CD
                                        , fcBass0300CDNM(DPOB_CD, MNTH_RNTTY_HUS_FRM_CD) AS MNTH_RNTTY_HUS_FRM_NM
                                        , (SELECT C.COMM_CD 
                                            FROM BASS0300 C
                                            WHERE C.DPOB_CD = DPOB_CD
                                                    AND C.RPSTTV_CD = 'Y007'
                                                    AND    C.MANGE_ITEM11 = MNTH_RNTTY_HUS_FRM_CD)AS mnrnTyhucommCd
                                        , fcBass0300CDNM(DPOB_CD, (SELECT C.COMM_CD 
                                                                    FROM BASS0300 C
                                                                    WHERE C.DPOB_CD = DPOB_CD
                                                                        AND C.RPSTTV_CD = 'Y007'
                                                                        AND    C.MANGE_ITEM11 = MNTH_RNTTY_HUS_FRM_CD)) AS mnrnTyhucommCdNm 
                                        , MNTH_RNTTY_HUS_CNTT_AREA
                                        , MNTH_RNTTY_RNTL_ADDR
                                        , MNTH_RNTTY_RNTL_BGNN_DT
                                        , MNTH_RNTTY_RNTL_END_DT
                                        , MNTH_RNTTY_YRLY_MNTH_SUM
                                        , MNTH_RNTTY_TX_DDUC_SUM
                                        , KYBDR
                                        , INPT_DT
                                        , INPT_ADDR
                                        , ISMT
                                        , REVN_DT
                                        , REVN_ADDR
                                        , ECTN_FL_TRNR_CTL_YN
                                FROM YE162510
                        WHERE 
                            <isNotEmpty property="dpobCd">
                                DPOB_CD=#dpobCd#
                            </isNotEmpty>
                            <isNotEmpty prepend="AND" property="yrtxBlggYr" >
                                YRTX_BLGG_YR=#yrtxBlggYr#
                            </isNotEmpty> 
                            <isNotEmpty prepend="AND" property="clutSeptCd" >
                                CLUT_SEPT_CD=#clutSeptCd#
                            </isNotEmpty> 
                            <isNotEmpty prepend="AND" property="systemkey" >
                                SYSTEMKEY=#systemkey#
                            </isNotEmpty> 
                        ORDER BY 
                            YRTX_BLGG_YR DESC
                            , CLUT_SEPT_CD DESC
                            , MNTH_RNT_QNTY_SEIL_NUM DESC
                            , DPOB_CD DESC
                            , SYSTEMKEY DESC
                
                <![CDATA[                    
            ) A WHERE ROWNUM <= #lastIndex#
        )WHERE RNUM >= #firstIndex#
        ]]>
	</select>	
	<!-- 월세액소득공제 갯수 -->
	<select id="ye162510_2022_DAO.selectYetaT13019To162510ListTotCnt_S" parameterClass="ye162510Srh_2022_VO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM YE162510
			WHERE 
				<isNotEmpty property="dpobCd">
                    DPOB_CD=#dpobCd#
                </isNotEmpty>
                <isNotEmpty prepend="AND" property="yrtxBlggYr" >
                    YRTX_BLGG_YR=#yrtxBlggYr#
                </isNotEmpty> 
                <isNotEmpty prepend="AND" property="clutSeptCd" >
                    CLUT_SEPT_CD=#clutSeptCd#
                </isNotEmpty> 
                <isNotEmpty prepend="AND" property="systemkey" >
                    SYSTEMKEY=#systemkey#
                </isNotEmpty> 
	</select>
	
	<select id="ye162510_2022_DAO.selectYe162510List_D" parameterClass="ye162510Srh_2022_VO" resultClass="egovMap">
	SELECT * FROM (
        SELECT A.*, ROWNUM RNUM FROM (
                    SELECT
                                    YRTX_BLGG_YR
                                    , CLUT_SEPT_CD
                                    , MNTH_RNT_QNTY_SEIL_NUM
                                    , DPOB_CD
                                    , SYSTEMKEY
                                    , MNTH_RNTTY_LEHDR_NM
                                    , MNTH_RNTTY_BUR_RGSUM
                                    , MNTH_RNTTY_HUS_FRM_CD
                                    , MNTH_RNTTY_HUS_CNTT_AREA
                                    , MNTH_RNTTY_RNTL_ADDR
                                    , MNTH_RNTTY_RNTL_BGNN_DT
                                    , MNTH_RNTTY_RNTL_END_DT
                                    , MNTH_RNTTY_YRLY_MNTH_SUM
                                    , MNTH_RNTTY_TX_DDUC_SUM
                                    , ECTN_FL_TRNR_CTL_YN
                                    , KYBDR
                                    , INPT_DT
                                    , INPT_ADDR
                                    , ISMT
                                    , REVN_DT
                                    , REVN_ADDR
                            FROM YE162510
                    WHERE 1=1
                    <isEqual prepend="AND" property="searchCondition" compareValue="0">
                        YRTX_BLGG_YR = #searchKeyword#
                    </isEqual>
                    <isEqual prepend="AND" property="searchCondition" compareValue="1">
                        CLUT_SEPT_CD LIKE '%' || #searchKeyword# || '%'
                    </isEqual>
                        ORDER BY 
                            YRTX_BLGG_YR DESC
                                , CLUT_SEPT_CD DESC
                                , MNTH_RNT_QNTY_SEIL_NUM DESC
                                , DPOB_CD DESC
                                , SYSTEMKEY DESC
            
            <![CDATA[                    
         ) A WHERE ROWNUM <= #lastIndex# 
     )WHERE RNUM >= #firstIndex# 
	 ]]> 
	</select>
		
	<select id="ye162510_2022_DAO.selectYe162510ListTotCnt_S" parameterClass="ye162510Srh_2022_VO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM YE162510
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				YRTX_BLGG_YR = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				CLUT_SEPT_CD LIKE '%' || #searchKeyword# || '%'
			</isEqual>
	</select>

</sqlMap>
