<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="PGRM_Psnl0100">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="prgmComSearchVO" type="com.app.exterms.prgm.server.vo.PrgmComSearchVO"/>
	
	<resultMap id="prgmComPsnl0100" class="com.app.exterms.prgm.server.vo.PrgmComPsnl0100VO"> 
		<result property="dpobCd" column="DPOB_CD" columnIndex="1"/>
		<result property="systemkey" column="SYSTEMKEY" columnIndex="2"/>
		<result property="hanNm" column="HAN_NM" columnIndex="3"/>
		<result property="engNm" column="ENG_NM" columnIndex="4"/>
		<result property="chinCharNm" column="CHIN_CHAR_NM" columnIndex="5"/>
		<result property="resnRegnNum" column="RESN_REGN_NUM" columnIndex="6"/>
		<result property="sxDivCd" column="SX_DIV_CD" columnIndex="7"/>
		<result property="yoobhMnthDay" column="YOOBH_MNTH_DAY" columnIndex="8"/>
		<result property="sclcDivCd" column="SCLC_DIV_CD" columnIndex="9"/>
		<result property="natnCd" column="NATN_CD" columnIndex="10"/>
		<result property="deptCd" column="DEPT_CD" columnIndex="11"/>
		<result property="businCd" column="BUSIN_CD" columnIndex="12"/>
		<result property="currAffnDeptCd" column="CURR_AFFN_DEPT_CD" columnIndex="13"/>
		<result property="repbtyBusinDivCd" column="REPBTY_BUSIN_DIV_CD" columnIndex="14"/>
		<result property="typOccuCd" column="TYP_OCCU_CD" columnIndex="15"/>
		<result property="odtyCd" column="ODTY_CD" columnIndex="16"/>
		<result property="frstEmymtDt" column="FRST_EMYMT_DT" columnIndex="17"/>
		<result property="emymtDivCd" column="EMYMT_DIV_CD" columnIndex="18"/>
		<result property="emymtBgnnDt" column="EMYMT_BGNN_DT" columnIndex="19"/>
		<result property="emymtEndDt" column="EMYMT_END_DT" columnIndex="20"/>
		<result property="pyspCd" column="PYSP_CD" columnIndex="21"/>
		<result property="hdofcCodtnCd" column="HDOFC_CODTN_CD" columnIndex="22"/>
		<result property="retryDt" column="RETRY_DT" columnIndex="23"/>
		<result property="retryReasCtnt" column="RETRY_REAS_CTNT" columnIndex="24"/>
		<result property="frgnrDivCd" column="FRGNR_DIV_CD" columnIndex="25"/>
		<result property="psptNum" column="PSPT_NUM" columnIndex="26"/>
		<result property="styBgnnDt" column="STY_BGNN_DT" columnIndex="27"/>
		<result property="styEndDt" column="STY_END_DT" columnIndex="28"/>
		<result property="endSchl" column="END_SCHL" columnIndex="29"/>
		<result property="endDegrDivCd" column="END_DEGR_DIV_CD" columnIndex="30"/>
		<result property="pmtnScduDt" column="PMTN_SCDU_DT" columnIndex="31"/>
		<result property="pyspPrmtnScduDt" column="PYSP_PRMTN_SCDU_DT" columnIndex="32"/>
		<result property="reymnScduDt" column="REYMN_SCDU_DT" columnIndex="33"/>
		<result property="logSvcYrNumCd" column="LOG_SVC_YR_NUM_CD" columnIndex="34"/>
		<result property="logSvcMnthIcmCd" column="LOG_SVC_MNTH_ICM_CD" columnIndex="35"/>
		<result property="currPyspAppmtDt" column="CURR_PYSP_APPMT_DT" columnIndex="36"/>
		<result property="currDeptAppmtDt" column="CURR_DEPT_APPMT_DT" columnIndex="37"/>
		<result property="pernNoteCtnt" column="PERN_NOTE_CTNT" columnIndex="38"/>
		<result property="kybdr" column="KYBDR" columnIndex="39"/>
		<result property="inptDt" column="INPT_DT" columnIndex="40"/>
		<result property="inptAddr" column="INPT_ADDR" columnIndex="41"/>
		<result property="ismt" column="ISMT" columnIndex="42"/>
		<result property="revnDt" column="REVN_DT" columnIndex="43"/>
		<result property="revnAddr" column="REVN_ADDR" columnIndex="44"/> 
		<result property="dtilOccuClsDivCd" column="DTIL_OCCU_CLS_DIV_CD" columnIndex="45"/>
		<result property="pyspGrdeCd" column="PYSP_GRDE_CD" columnIndex="46"/>
		<result property="dtilOccuInttnCd" column="DTIL_OCCU_INTTN_CD" columnIndex="47"/>
	</resultMap>
	 
	
	<select id="prgmComPsnl0100DAO.selectPsnl0100_S" resultMap="prgmComPsnl0100">
		<![CDATA[
			SELECT
				DPOB_CD
				, SYSTEMKEY
				, HAN_NM
				, ENG_NM
				, CHIN_CHAR_NM
				, RESN_REGN_NUM
				, SX_DIV_CD
				, YOOBH_MNTH_DAY
				, SCLC_DIV_CD
				, NATN_CD
				, DEPT_CD
				, BUSIN_CD
				, CURR_AFFN_DEPT_CD
				, REPBTY_BUSIN_DIV_CD
				, TYP_OCCU_CD
				, ODTY_CD
				, FRST_EMYMT_DT
				, EMYMT_DIV_CD
				, EMYMT_BGNN_DT
				, EMYMT_END_DT
				, PYSP_CD
				, HDOFC_CODTN_CD
				, RETRY_DT
				, RETRY_REAS_CTNT
				, FRGNR_DIV_CD
				, PSPT_NUM
				, STY_BGNN_DT
				, STY_END_DT
				, END_SCHL
				, END_DEGR_DIV_CD
				, PMTN_SCDU_DT
				, PYSP_PRMTN_SCDU_DT
				, REYMN_SCDU_DT
				, LOG_SVC_YR_NUM
				, LOG_SVC_MNTH_ICM
				, CURR_PYSP_APPMT_DT
				, CURR_DEPT_APPMT_DT
				, PERN_NOTE_CTNT
				, KYBDR
				, INPT_DT
				, INPT_ADDR
				, ISMT
				, REVN_DT
				, REVN_ADDR
			FROM PSNL0100
						WHERE DPOB_CD=#dpobCd#
								AND SYSTEMKEY=#systemkey#
				]]>
	</select>
	
	<select id="prgmComPsnl0100DAO.selectPsnl0100List_D" parameterClass="prgmComSearchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
		SELECT DPOB_CD,
		       SYSTEMKEY,
		       HAN_NM,
		       ENG_NM,
		       CHIN_CHAR_NM,
		       SUBSTR(RESN_REGN_NUM,0,6)||'-'||SUBSTR(RESN_REGN_NUM,7) AS RESN_REGN_NUM,
		       SX_DIV_CD,
		       YOOBH_MNTH_DAY,
		       SCLC_DIV_CD,
		       NATN_CD,
		       DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,DEPT_CD,'2') AS DEPT_NM,
		       BUSIN_CD,
		       CURR_AFFN_DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,CURR_AFFN_DEPT_CD,'2') AS CURR_AFFN_DEPT_NM,
		       REPBTY_BUSIN_DIV_CD,
		       TYP_OCCU_CD,
		       fcBass0320CDNM(#dpobCd#,TYP_OCCU_CD) AS TYP_OCCU_NM,
		       ODTY_CD,
		       fcBass0300CDNM(#dpobCd#,ODTY_CD) AS ODTY_NM,
		       FRST_EMYMT_DT,
		       EMYMT_DIV_CD,
		       fcBass0300CDNM(#dpobCd#,EMYMT_DIV_CD) AS EMYMT_DIV_NM,
		       EMYMT_DIV_CD AS emymtDivCdcommCd ,
		       fcBass0300CDNM(#dpobCd#,EMYMT_DIV_CD) AS emymtDivCdcommCdNm,
		       EMYMT_BGNN_DT,
		       EMYMT_END_DT,
		       PYSP_CD,
		       fcBass0300CDNM(DPOB_CD,PYSP_CD) AS PYSP_NM,
		       HDOFC_CODTN_CD,
		       fcBass0300CDNM(DPOB_CD,HDOFC_CODTN_CD) AS HDOFC_CODTN_NM,
		       RETRY_DT,
		       RETRY_REAS_CTNT,
		       FRGNR_DIV_CD,
		       fcBass0300CDNM(DPOB_CD,FRGNR_DIV_CD) AS FRGNR_DIV_NM,
		       PSPT_NUM,
		       STY_BGNN_DT,
		       STY_END_DT,
		       END_SCHL,
		       END_DEGR_DIV_CD,
		       fcBass0300CDNM(DPOB_CD,END_DEGR_DIV_CD) AS END_DEGR_DIV_NM,
		       PMTN_SCDU_DT,
		       PYSP_PRMTN_SCDU_DT,
		       REYMN_SCDU_DT,
		       LOG_SVC_YR_NUM_CD,
		       fcBass0300CDNM(#dpobCd#,LOG_SVC_YR_NUM_CD) AS LOG_SVC_YR_NUM_NM,
		       LOG_SVC_MNTH_ICM_CD,
		       (SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = LOG_SVC_YR_NUM_CD)
                         ||' '||(SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = LOG_SVC_MNTH_ICM_CD) AS LOG_SVC_MNTH_ICM_NM,
		       CURR_PYSP_APPMT_DT,
		       CURR_DEPT_APPMT_DT,
		       PERN_NOTE_CTNT,
		       KYBDR,
		       INPT_DT,
		       INPT_ADDR,
		       ISMT,
		       REVN_DT,
		       REVN_ADDR,
		       (SELECT MAX (B.CURR_PAE_WORK_NM)
		          FROM PSNL0110 B
		         WHERE B.DPOB_CD = A.DPOB_CD AND B.SYSTEMKEY = A.SYSTEMKEY)
		          AS CURR_PAE_WORK_NM,
		       (SELECT MAX (C.PIC_FLNM )
		          FROM PSNL0125 C
		         WHERE C.DPOB_CD = A.DPOB_CD AND C.SYSTEMKEY = A.SYSTEMKEY)
		          AS PIC_FLNM,
		       PYSP_GRDE_CD,
		       fcBass0300CDNM(#dpobCd#,PYSP_GRDE_CD) AS PYSP_GRDE_NM,
		       DTIL_OCCU_CLS_DIV_CD,
		        A.DTIL_OCCU_INTTN_CD ,
		         fcBassEx0350CDNM(A.DPOB_CD,A.TYP_OCCU_CD,A.DTIL_OCCU_INTTN_CD,'1' ) AS DTIL_OCCU_CLS_DIV_NM ,
		       '('||(SELECT BUSIN_APPTN_YR FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR)||')'||
               (SELECT BUSIN_NM FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR) AS BUSIN_NM         
		  FROM PSNL0100 A
		 WHERE 1=1
		   <isNotEmpty prepend="AND" property="dpobCd" >
			 	DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="deptCd" >
			 	CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="businCd" >
			 	BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="typOccuCd" >
			 	TYP_OCCU_CD=#typOccuCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="dtilOccuInttnCd" >
			 	DTIL_OCCU_INTTN_CD =#dtilOccuInttnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
					ORDER BY 
						DPOB_CD ASC
						,RESN_REGN_NUM ASC 
							, SYSTEMKEY ASC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>	
	<select id="prgmComPsnl0100DAO.selectPsnl0100ListTotCnt_S" parameterClass="prgmComSearchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM PSNL0100
			WHERE 1=1 
			  <isNotEmpty prepend="AND" property="dpobCd" >
			 	DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="deptCd" >
			 	CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="businCd" >
			 	BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="typOccuCd" >
			 	TYP_OCCU_CD=#typOccuCd#
		       </isNotEmpty> 
		      <isNotEmpty prepend="AND" property="dtilOccuInttnCd" >
			 	DTIL_OCCU_INTTN_CD =#dtilOccuInttnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
	</select>
	<!-- 급여 은행데이터 처리를 위한 사용자 데이터 조회  -->
	<select id="prgmComPsnl0100DAO.selectPsnl0100ToPayr1700List_D" parameterClass="prgmComSearchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
		SELECT A.DPOB_CD,
		       A.SYSTEMKEY,
		       A.HAN_NM,
		       A.ENG_NM,
		       A.CHIN_CHAR_NM,
		       A.RESN_REGN_NUM,
		       A.SX_DIV_CD,
		       A.YOOBH_MNTH_DAY,
		       A.SCLC_DIV_CD,
		       A.NATN_CD,
		       A.DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,A.DEPT_CD,'2') AS DEPT_NM,
		       A.BUSIN_CD,
		       A.CURR_AFFN_DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,A.CURR_AFFN_DEPT_CD,'2') AS CURR_AFFN_DEPT_NM,
		       A.REPBTY_BUSIN_DIV_CD,
		       A.TYP_OCCU_CD,
		       fcBass0320CDNM(#dpobCd#,A.TYP_OCCU_CD) AS TYP_OCCU_NM,
		       A.ODTY_CD,
		       fcBass0300CDNM(#dpobCd#,A.ODTY_CD) AS ODTY_NM,
		       A.FRST_EMYMT_DT,
		       A.EMYMT_DIV_CD,
		        fcBass0300CDNM(#dpobCd#,A.EMYMT_DIV_CD) AS EMYMT_DIV_NM,
		       A.EMYMT_DIV_CD AS emymtDivCdcommCd ,
		       fcBass0300CDNM(#dpobCd#,A.EMYMT_DIV_CD) AS emymtDivCdcommCdNm,
		       A.EMYMT_BGNN_DT,
		       A.EMYMT_END_DT,
		       A.PYSP_CD,
		       fcBass0300CDNM(#dpobCd#,A.PYSP_CD) AS PYSP_NM,
		       A.HDOFC_CODTN_CD,
		       A.RETRY_DT,
		       A.RETRY_REAS_CTNT,
		       A.FRGNR_DIV_CD,
		       A.PSPT_NUM,
		       A.STY_BGNN_DT,
		       A.STY_END_DT,
		       A.END_SCHL,
		       A.END_DEGR_DIV_CD,
		       A.PMTN_SCDU_DT,
		       A.PYSP_PRMTN_SCDU_DT,
		       A.REYMN_SCDU_DT,
		       A.LOG_SVC_YR_NUM_CD,
		       fcBass0300CDNM(#dpobCd#,A.LOG_SVC_YR_NUM_CD) AS LOG_SVC_YR_NUM_NM,
		       A.LOG_SVC_MNTH_ICM_CD,
		       (SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = A.LOG_SVC_YR_NUM_CD)
                         ||' '||(SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = A.LOG_SVC_MNTH_ICM_CD) AS LOG_SVC_MNTH_ICM_NM,
		       A.CURR_PYSP_APPMT_DT,
		       A.CURR_DEPT_APPMT_DT,
		       A.PERN_NOTE_CTNT,
		       A.KYBDR,
		       A.INPT_DT,
		       A.INPT_ADDR,
		       A.ISMT,
		       A.REVN_DT,
		       A.REVN_ADDR,
		       (SELECT MAX (B.CURR_PAE_WORK_NM)
		          FROM PSNL0110 B
		         WHERE B.DPOB_CD = A.DPOB_CD AND B.SYSTEMKEY = A.SYSTEMKEY)
		          AS CURR_PAE_WORK_NM,
		       (SELECT MAX (C.PIC_FLNM )
		          FROM PSNL0125 C
		         WHERE C.DPOB_CD = A.DPOB_CD AND C.SYSTEMKEY = A.SYSTEMKEY)
		          AS PIC_FLNM,
		       A.PYSP_GRDE_CD,
		       fcBass0300CDNM(A.DPOB_CD,A.PYSP_GRDE_CD) AS PYSP_GRDE_NM,
		       A.DTIL_OCCU_CLS_DIV_CD,
		         A.DTIL_OCCU_INTTN_CD ,
		         fcBassEx0350CDNM(A.DPOB_CD,A.TYP_OCCU_CD,A.DTIL_OCCU_INTTN_CD,'1' ) AS DTIL_OCCU_CLS_DIV_NM ,
		       '('||(SELECT BUSIN_APPTN_YR FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR)||')'||
               (SELECT BUSIN_NM FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR) AS BUSIN_NM         
		  FROM PSNL0100 A , PAYR0500 C
             WHERE A.DPOB_CD = C.DPOB_CD
               AND A.SYSTEMKEY = C.SYSTEMKEY 
		      <isNotEmpty prepend="AND" property="dpobCd" >
			 	A.DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	A.EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		      <isNotEmpty prepend="AND" property="payrMangeDeptCd" >
			 	C.PAYR_MANG_DEPT_CD =#payrMangeDeptCd# 
		       </isNotEmpty> 
		         AND EXISTS  (
                          SELECT  C.DPOB_CD,
                                 C.DTIL_OCCU_INTTN_CD,
                                 C.TYP_OCCU_CD,
                                 C.DEPT_CD FROM 
                                             ( SELECT * 
                                                 FROM TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,'' ))) C
                                            WHERE     C.DPOB_CD = A.DPOB_CD
						                        AND C.DEPT_CD = A.CURR_AFFN_DEPT_CD
						                        AND NVL(C.TYP_OCCU_CD,'TT')  = NVL(A.TYP_OCCU_CD,'TT') 
                                                AND NVL(C.DTIL_OCCU_INTTN_CD,'TT')  = NVL(A.DTIL_OCCU_INTTN_CD,'TT')
                                               <isNotEmpty property="deptCd" prepend="AND">
												<![CDATA[
												 C.DEPT_CD
												]]>
												<iterate prepend="IN" property="deptCdArr" open="(" close=")" conjunction=",">
												 #deptCdArr[]#
												</iterate>
												</isNotEmpty> 
                                          )     
		       <isNotEmpty prepend="AND" property="businCd" >
			 	A.BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 A.TYP_OCCU_CD
				]]>
				<iterate prepend="IN" property="typOccuCdArr" open="(" close=")" conjunction=",">
				 #typOccuCdArr[]#
				</iterate>
				</isNotEmpty>  
			   <!--  <isNotEmpty property="pyspGrdeCd" prepend="AND">
				<![CDATA[
				 NVL(A.PYSP_GRDE_CD,'A0060000')
				]]>
				<iterate prepend="IN" property="pyspGrdeCdArr" open="(" close=")" conjunction=",">
				 #pyspGrdeCdArr[]#
				</iterate>
				</isNotEmpty>   -->
				<isNotEmpty property="dtilOccuInttnCd" prepend="AND">
						<![CDATA[
							 A.DTIL_OCCU_INTTN_CD
						]]>
						<iterate prepend="IN" property="dtilOccuInttnCdArr" open="(" close=")" conjunction=",">
							 #dtilOccuInttnCdArr[]#
						</iterate>
					</isNotEmpty>  
				 
		      <isNotEmpty prepend="AND" property="hdofcCodtnCd" >
			 	A.HDOFC_CODTN_CD=#hdofcCodtnCd#
		       </isNotEmpty>
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	A.SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	A.HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
		       
		       <isNotEmpty prepend="AND" property="mangeDeptCd" >
					A.DEPT_CD = #mangeDeptCd#
				</isNotEmpty>
				
					ORDER BY 
						A.DPOB_CD ASC
						   ,(SELECT LPAD(DEPT_RANK,5,'0')  
                                   FROM BASS0400 DD
                                   WHERE DD.DEPT_CD = A.CURR_AFFN_DEPT_CD
                                     AND DD.DPOB_CD = A.DPOB_CD) ASC 
						, A.RESN_REGN_NUM ASC
							, A.SYSTEMKEY ASC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>	
	<select id="prgmComPsnl0100DAO.selectPsnl0100ToPayr1700ListTotCnt_S" parameterClass="prgmComSearchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM PSNL0100 A, PAYR0500 C
             WHERE A.DPOB_CD = C.DPOB_CD
               AND A.SYSTEMKEY = C.SYSTEMKEY 
			 <isNotEmpty prepend="AND" property="dpobCd" >
			 	A.DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	A.EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		        <isNotEmpty prepend="AND" property="payrMangeDeptCd" >
			 	C.PAYR_MANG_DEPT_CD =#payrMangeDeptCd# 
		       </isNotEmpty> 
		         AND EXISTS  (
                         SELECT  C.DPOB_CD,
                                 C.DTIL_OCCU_INTTN_CD,
                                 C.TYP_OCCU_CD,
                                 C.DEPT_CD FROM 
                                             ( SELECT * 
                                                 FROM TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,'' ))) C
                                            WHERE     C.DPOB_CD = A.DPOB_CD
						                        AND C.DEPT_CD = A.CURR_AFFN_DEPT_CD
						                        AND NVL(C.TYP_OCCU_CD,'TT')  = NVL(A.TYP_OCCU_CD,'TT') 
                                                AND NVL(C.DTIL_OCCU_INTTN_CD,'TT')  = NVL(A.DTIL_OCCU_INTTN_CD,'TT')
                                               <isNotEmpty property="deptCd" prepend="AND">
												<![CDATA[
												 C.DEPT_CD
												]]>
												<iterate prepend="IN" property="deptCdArr" open="(" close=")" conjunction=",">
												 #deptCdArr[]#
												</iterate>
												</isNotEmpty> 
                                          )     
		       <isNotEmpty prepend="AND" property="businCd" >
			 	A.BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 A.TYP_OCCU_CD
				]]>
				<iterate prepend="IN" property="typOccuCdArr" open="(" close=")" conjunction=",">
				 #typOccuCdArr[]#
				</iterate>
				</isNotEmpty>  
			    <isNotEmpty property="dtilOccuInttnCd" prepend="AND">
						<![CDATA[
							 A.DTIL_OCCU_INTTN_CD
						]]>
						<iterate prepend="IN" property="dtilOccuInttnCdArr" open="(" close=")" conjunction=",">
							 #dtilOccuInttnCdArr[]#
						</iterate>
					</isNotEmpty>  
		        <isNotEmpty prepend="AND" property="hdofcCodtnCd" >
			 	A.HDOFC_CODTN_CD=#hdofcCodtnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	A.SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	A.HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
		       
		       <isNotEmpty prepend="AND" property="mangeDeptCd" >
			   	A.DEPT_CD = #mangeDeptCd#
			   </isNotEmpty>
			   
			   	<isNotEmpty prepend="AND" property="repbtyBusinDivCd" >
				A.REPBTY_BUSIN_DIV_CD=#repbtyBusinDivCd#
				</isNotEmpty>
		        
	</select>
	
		<select id="prgmComPsnl0100DAO.selectPsnl0100ToPayr4100List_D" parameterClass="prgmComSearchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
	    SELECT A.DPOB_CD,
               A.SYSTEMKEY,
               A.HAN_NM,
               A.ENG_NM,
               A.CHIN_CHAR_NM,
               SUBSTR(A.RESN_REGN_NUM,0,6)||'-'||SUBSTR(A.RESN_REGN_NUM,7) AS RESN_REGN_NUM,
               A.SX_DIV_CD,
               A.YOOBH_MNTH_DAY,
               A.SCLC_DIV_CD,
                fcBass0300CDNM(A.DPOB_CD,A.SCLC_DIV_CD) AS SCLC_DIV_NM,
               A.NATN_CD,
               A.DEPT_CD,
               fcBass0400CDNM(A.DPOB_CD,A.DEPT_CD,'2') AS DEPT_NM,
               A.BUSIN_CD,
               A.CURR_AFFN_DEPT_CD, 
               fcBass0400CDNM(A.DPOB_CD,A.CURR_AFFN_DEPT_CD,'2') AS CURR_AFFN_DEPT_NM,
               A.REPBTY_BUSIN_DIV_CD,
                fcBass0300CDNM(A.DPOB_CD,A.REPBTY_BUSIN_DIV_CD) AS REPBTY_BUSIN_DIV_NM,
               A.TYP_OCCU_CD,
               fcBass0320CDNM(A.DPOB_CD,A.TYP_OCCU_CD) AS TYP_OCCU_NM,
               A.ODTY_CD,
               fcBass0300CDNM(A.DPOB_CD,A.ODTY_CD) AS ODTY_NM,
               A.FRST_EMYMT_DT,
               A.EMYMT_DIV_CD,
               fcBass0300CDNM(A.DPOB_CD,A.EMYMT_DIV_CD) AS EMYMT_DIV_NM,
               A.EMYMT_BGNN_DT,
               A.EMYMT_END_DT,
               A.PYSP_CD,
               fcBass0300CDNM(A.DPOB_CD,A.PYSP_CD) AS PYSP_NM,
               A.HDOFC_CODTN_CD,
                fcBass0300CDNM(A.DPOB_CD,A.HDOFC_CODTN_CD) AS HDOFC_CODTN_NM,
               A.RETRY_DT,
               A.RETRY_REAS_CTNT,
               A.FRGNR_DIV_CD,
               fcBass0300CDNM(A.DPOB_CD,A.FRGNR_DIV_CD) AS FRGNR_DIV_NM,
               A.PSPT_NUM,
               A.STY_BGNN_DT,
               A.STY_END_DT,
               A.END_SCHL,
               A.END_DEGR_DIV_CD,
                fcBass0300CDNM(A.DPOB_CD,A.END_DEGR_DIV_CD) AS END_DEGR_DIV_NM,
               A.PMTN_SCDU_DT,
               A.PYSP_PRMTN_SCDU_DT,
               A.REYMN_SCDU_DT,
               A.LOG_SVC_YR_NUM_CD,
               fcBass0300CDNM(A.DPOB_CD,A.LOG_SVC_YR_NUM_CD) AS LOG_SVC_YR_NUM_NM,
               A.LOG_SVC_MNTH_ICM_CD,
               (SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = A.LOG_SVC_YR_NUM_CD)
                         ||' '||(SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = A.LOG_SVC_MNTH_ICM_CD) AS LOG_SVC_MNTH_ICM_NM,
               A.CURR_PYSP_APPMT_DT,
               A.CURR_DEPT_APPMT_DT,
               A.PERN_NOTE_CTNT,
               A.KYBDR,
               A.INPT_DT,
               A.INPT_ADDR,
               A.ISMT,
               A.REVN_DT,
               A.REVN_ADDR,
               (SELECT MAX (B.CURR_PAE_WORK_NM)
                  FROM PSNL0110 B
                 WHERE B.DPOB_CD = A.DPOB_CD AND B.SYSTEMKEY = A.SYSTEMKEY)
                  AS CURR_PAE_WORK_NM,
               (SELECT MAX (C.PIC_FLNM )
                  FROM PSNL0125 C
                 WHERE C.DPOB_CD = A.DPOB_CD AND C.SYSTEMKEY = A.SYSTEMKEY)
                  AS PIC_FLNM,
               A.PYSP_GRDE_CD,
               fcBass0300CDNM(A.DPOB_CD,A.PYSP_GRDE_CD) AS PYSP_GRDE_NM,
               A.DTIL_OCCU_CLS_DIV_CD,
                 A.DTIL_OCCU_INTTN_CD ,
		         fcBassEx0350CDNM(A.DPOB_CD,A.TYP_OCCU_CD,A.DTIL_OCCU_INTTN_CD,'1' ) AS DTIL_OCCU_CLS_DIV_NM ,
               (CASE WHEN '('||(SELECT BUSIN_APPTN_YR FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR)||')' = '()'
                    THEN  '' 
                    ELSE '('||(SELECT BUSIN_APPTN_YR FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR)||')'||
                     (SELECT BUSIN_NM FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR) 
                    END) AS BUSIN_NM ,
                C.PAYR_MANG_DEPT_CD,
                (SELECT  PAY_MANGE_DEPT_NM 
						FROM BASS0150 SS
						WHERE   SS.DPOB_CD = A.DPOB_CD
						 AND    SS.PAYR_MANG_DEPT_CD = C.PAYR_MANG_DEPT_CD ) AS PAYR_MANG_DEPT_NM  
           FROM PSNL0100 A , PAYR0500 C
             WHERE A.DPOB_CD   = C.DPOB_CD
               AND A.SYSTEMKEY = C.SYSTEMKEY 
		  <isNotEmpty prepend="AND" property="dpobCd" >
			 	A.DPOB_CD=#dpobCd#
		       </isNotEmpty>
		       
		       <isNotEmpty prepend="AND" property="mangeDeptCd" >
				A.DEPT_CD = #mangeDeptCd#
			   </isNotEmpty>
			 
			 	<isNotEmpty prepend="AND" property="repbtyBusinDivCd" >
				  A.REPBTY_BUSIN_DIV_CD=#repbtyBusinDivCd#
			    </isNotEmpty>
		        
		     AND EXISTS  (
                           SELECT  C.DPOB_CD,
                                 C.DTIL_OCCU_INTTN_CD,
                                 C.TYP_OCCU_CD,
                                 C.DEPT_CD FROM 
                                             ( SELECT * 
                                                 FROM TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,'' ))) C
                                            WHERE     C.DPOB_CD = A.DPOB_CD
						                        AND C.DEPT_CD = A.CURR_AFFN_DEPT_CD
						                        AND NVL(C.TYP_OCCU_CD,'TT')  = NVL(A.TYP_OCCU_CD,'TT') 
                                                AND NVL(C.DTIL_OCCU_INTTN_CD,'TT')  = NVL(A.DTIL_OCCU_INTTN_CD,'TT')
                                               <isNotEmpty property="deptCd" prepend="AND">
												<![CDATA[
												 C.DEPT_CD
												]]>
												<iterate prepend="IN" property="deptCdArr" open="(" close=")" conjunction=",">
												 #deptCdArr[]#
												</iterate>
												</isNotEmpty> 
                                          )       
		       <isNotEmpty prepend="AND" property="businCd" >
			 	A.BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 A.TYP_OCCU_CD
				]]>
				<iterate prepend="IN" property="typOccuCdArr" open="(" close=")" conjunction=",">
				 #typOccuCdArr[]#
				</iterate>
				</isNotEmpty>  
			    	<isNotEmpty property="dtilOccuInttnCd" prepend="AND">
						<![CDATA[
							 A.DTIL_OCCU_INTTN_CD
						]]>
						<iterate prepend="IN" property="dtilOccuInttnCdArr" open="(" close=")" conjunction=",">
							 #dtilOccuInttnCdArr[]#
						</iterate>
					</isNotEmpty>  
		        
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	A.SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	A.HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
		      <!--   <isNotEmpty prepend="AND" property="payrMangeDeptCd" >
			 	C.PAYR_MANG_DEPT_CD=#payrMangeDeptCd#
		       </isNotEmpty>  -->
		        <isNotEmpty property="hdofcCodtnCd" prepend="AND">
				<![CDATA[
				 A.HDOFC_CODTN_CD
				]]>
				<iterate prepend="IN" property="hdofcCodtnCdArr" open="(" close=")" conjunction=",">
				 #hdofcCodtnCdArr[]#
				</iterate>
				</isNotEmpty> 
		          <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	A.EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty>  
		          <isNotEmpty prepend="AND" property="businApptnYr" >
			 	 SUBSTR(A.EMYMT_BGNN_DT,1,4) =#businApptnYr#
		       </isNotEmpty>  
		       
					ORDER BY 
						A.DPOB_CD ASC
						  ,(SELECT LPAD(DEPT_RANK,5,'0')  
                                   FROM BASS0400 DD
                                   WHERE DD.DEPT_CD = A.CURR_AFFN_DEPT_CD
                                     AND DD.DPOB_CD = A.DPOB_CD) ASC 
						, A.RESN_REGN_NUM ASC  
		                , A.DTIL_OCCU_CLS_DIV_CD ASC
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>	
	 <!--   <isNotEmpty prepend="AND" property="deptCd" >
										 	C.DEPT_CD=#deptCd#
									       </isNotEmpty>-->
	<!--   <isNotEmpty prepend="AND" property="deptCd" >
			 	A.CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty>  -->
	<select id="prgmComPsnl0100DAO.selectPsnl0100ToPayr4100ListTotCnt_S" parameterClass="prgmComSearchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			  FROM PSNL0100 A , PAYR0500 C
             WHERE A.DPOB_CD = C.DPOB_CD
               AND A.SYSTEMKEY = C.SYSTEMKEY  
		       AND EXISTS  (
                            SELECT  C.DPOB_CD,
                                 C.DTIL_OCCU_INTTN_CD,
                                 C.TYP_OCCU_CD,
                                 C.DEPT_CD FROM 
                                             ( SELECT * 
                                                 FROM TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,'' )) ) C
                                            WHERE     C.DPOB_CD = A.DPOB_CD
						                        AND C.DEPT_CD = A.CURR_AFFN_DEPT_CD
						                        AND NVL(C.TYP_OCCU_CD,'TT')  = NVL(A.TYP_OCCU_CD,'TT') 
                                                AND NVL(C.DTIL_OCCU_INTTN_CD,'TT')  = NVL(A.DTIL_OCCU_INTTN_CD,'TT')
                                               <isNotEmpty property="deptCd" prepend="AND">
												<![CDATA[
												 C.DEPT_CD
												]]>
												<iterate prepend="IN" property="deptCdArr" open="(" close=")" conjunction=",">
												 #deptCdArr[]#
												</iterate>
												</isNotEmpty> 
				 
                                          ) 
                <isNotEmpty prepend="AND" property="dpobCd" >
			 	A.DPOB_CD=#dpobCd#
		       </isNotEmpty>
		       
		       <isNotEmpty prepend="AND" property="mangeDeptCd" >
				A.DEPT_CD = #mangeDeptCd#
			   </isNotEmpty>
		       
		        <isNotEmpty prepend="AND" property="repbtyBusinDivCd" >
				A.REPBTY_BUSIN_DIV_CD=#repbtyBusinDivCd#
				</isNotEmpty>
		                                     
		       <isNotEmpty prepend="AND" property="businCd" >
			 	A.BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 A.TYP_OCCU_CD
				]]>
				<iterate prepend="IN" property="typOccuCdArr" open="(" close=")" conjunction=",">
				 #typOccuCdArr[]#
				</iterate>
				</isNotEmpty>  
			  	<isNotEmpty property="dtilOccuInttnCd" prepend="AND">
						<![CDATA[
							 A.DTIL_OCCU_INTTN_CD
						]]>
						<iterate prepend="IN" property="dtilOccuInttnCdArr" open="(" close=")" conjunction=",">
							 #dtilOccuInttnCdArr[]#
						</iterate>
			   </isNotEmpty>  
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	A.SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	A.HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
		       <!-- 
		        <isNotEmpty prepend="AND" property="payrMangeDeptCd" >
			 	C.PAYR_MANG_DEPT_CD=#payrMangeDeptCd#
		       </isNotEmpty>  -->
		       <isNotEmpty property="hdofcCodtnCd" prepend="AND">
			   <![CDATA[
				 A.HDOFC_CODTN_CD
				]]>
			  <iterate prepend="IN" property="hdofcCodtnCdArr" open="(" close=")" conjunction=",">
				 #hdofcCodtnCdArr[]#
			  </iterate>
			  </isNotEmpty> 
		      <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	A.EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty>  
		           <isNotEmpty prepend="AND" property="businApptnYr" >
			 	 SUBSTR(A.EMYMT_BGNN_DT,1,4) =#businApptnYr#
		       </isNotEmpty> 
		         
	</select>
	
	<!-- 퇴직정산 대상자  -->
		<select id="prgmComPsnl0100DAO.selectRemtPsnl0100List_D" parameterClass="prgmComSearchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
		SELECT DPOB_CD,
		       SYSTEMKEY,
		       HAN_NM,
		       ENG_NM,
		       CHIN_CHAR_NM,
		       SUBSTR(RESN_REGN_NUM,0,6)||'-'||SUBSTR(RESN_REGN_NUM,7) AS RESN_REGN_NUM,
		       SX_DIV_CD,
		       YOOBH_MNTH_DAY,
		       SCLC_DIV_CD,
		       NATN_CD,
		       DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,DEPT_CD,'2') AS DEPT_NM,
		       BUSIN_CD,
		       CURR_AFFN_DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,CURR_AFFN_DEPT_CD,'2') AS CURR_AFFN_DEPT_NM,
		       REPBTY_BUSIN_DIV_CD,
		       TYP_OCCU_CD,
		       fcBass0300CDNM(#dpobCd#,TYP_OCCU_CD) AS TYP_OCCU_NM,
		       ODTY_CD,
		       fcBass0300CDNM(#dpobCd#,ODTY_CD) AS ODTY_NM,
		       FRST_EMYMT_DT,
		       EMYMT_DIV_CD,
		       EMYMT_DIV_CD AS emymtDivCdcommCd ,
		       fcBass0300CDNM(#dpobCd#,EMYMT_DIV_CD) AS emymtDivCdcommCdNm,
		       EMYMT_BGNN_DT,
		       EMYMT_END_DT,
		       PYSP_CD,
		       fcBass0300CDNM(DPOB_CD,PYSP_CD) AS PYSP_NM,
		       HDOFC_CODTN_CD,
		       fcBass0300CDNM(DPOB_CD,HDOFC_CODTN_CD) AS HDOFC_CODTN_NM,
		       RETRY_DT,
		       RETRY_REAS_CTNT,
		       FRGNR_DIV_CD,
		       fcBass0300CDNM(DPOB_CD,FRGNR_DIV_CD) AS FRGNR_DIV_NM,
		       PSPT_NUM,
		       STY_BGNN_DT,
		       STY_END_DT,
		       END_SCHL,
		       END_DEGR_DIV_CD,
		       fcBass0300CDNM(DPOB_CD,END_DEGR_DIV_CD) AS END_DEGR_DIV_NM,
		       PMTN_SCDU_DT,
		       PYSP_PRMTN_SCDU_DT,
		       REYMN_SCDU_DT,
		       LOG_SVC_YR_NUM_CD,
		       fcBass0300CDNM(#dpobCd#,LOG_SVC_YR_NUM_CD) AS LOG_SVC_YR_NUM_NM,
		       LOG_SVC_MNTH_ICM_CD,
		       (SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = LOG_SVC_YR_NUM_CD)
                         ||' '||(SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = LOG_SVC_MNTH_ICM_CD) AS LOG_SVC_MNTH_ICM_NM,
		       CURR_PYSP_APPMT_DT,
		       CURR_DEPT_APPMT_DT,
		       PERN_NOTE_CTNT,
		       KYBDR,
		       INPT_DT,
		       INPT_ADDR,
		       ISMT,
		       REVN_DT,
		       REVN_ADDR,
		       (SELECT MAX (B.CURR_PAE_WORK_NM)
		          FROM PSNL0110 B
		         WHERE B.DPOB_CD = A.DPOB_CD AND B.SYSTEMKEY = A.SYSTEMKEY)
		          AS CURR_PAE_WORK_NM,
		       (SELECT MAX (C.PIC_FLNM )
		          FROM PSNL0125 C
		         WHERE C.DPOB_CD = A.DPOB_CD AND C.SYSTEMKEY = A.SYSTEMKEY)
		          AS PIC_FLNM,
		       PYSP_GRDE_CD,
		       fcBass0300CDNM(#dpobCd#,PYSP_GRDE_CD) AS PYSP_GRDE_NM,
		       DTIL_OCCU_CLS_DIV_CD,
		        DTIL_OCCU_INTTN_CD ,
		          fcBassEx0350CDNM(A.DPOB_CD,A.TYP_OCCU_CD,A.DTIL_OCCU_INTTN_CD,'1' ) AS DTIL_OCCU_CLS_NM ,
		       '('||(SELECT BUSIN_APPTN_YR FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR)||')'||
               (SELECT BUSIN_NM FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR) AS BUSIN_NM         
		  FROM PSNL0100 A
		 WHERE 1=1
		   <isNotEmpty prepend="AND" property="dpobCd" >
			 	DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		       <isNotEmpty   property="retryDt01" >
		           <isNotEmpty prepend="AND" property="retryDt02" >
			 			RETRY_DT  BETWEEN #retryDt01# AND #retryDt02#
			 		</isNotEmpty>
		       </isNotEmpty>   
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="deptCd" >
			 	CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="businCd" >
			 	BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="typOccuCd" >
			 	TYP_OCCU_CD=#typOccuCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="dtilOccuInttnCd" >
			 	A.DTIL_OCCU_INTTN_CD=#dtilOccuInttnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
					ORDER BY 
						DPOB_CD ASC
						,RESN_REGN_NUM ASC 
							, RETRY_DT DESC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>
	<!-- 퇴직정산 대상자 -->	
	<select id="prgmComPsnl0100DAO.selectRemtPsnl0100ListTotCnt_S" parameterClass="prgmComSearchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM PSNL0100
			WHERE 1=1 
			  <isNotEmpty prepend="AND" property="dpobCd" >
			 	DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		       <isNotEmpty   property="retryDt01" >
		           <isNotEmpty prepend="AND" property="retryDt02" >
			 			RETRY_DT  BETWEEN #retryDt01# AND #retryDt02#
			 		</isNotEmpty>
		       </isNotEmpty>   
		       
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="deptCd" >
			 	CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="businCd" >
			 	BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="typOccuCd" >
			 	TYP_OCCU_CD=#typOccuCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="dtilOccuInttnCd" >
			     DTIL_OCCU_INTTN_CD=#dtilOccuInttnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
	</select>
	
	
	
	<!-- 4대보험 대상자  -->
		<select id="prgmComPsnl0100DAO.selectInsrPsnl0100List_D" parameterClass="prgmComSearchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
		SELECT DPOB_CD,
		       SYSTEMKEY,
		       HAN_NM,
		       ENG_NM,
		       CHIN_CHAR_NM,
		       SUBSTR(RESN_REGN_NUM,0,6)||'-'||SUBSTR(RESN_REGN_NUM,7) AS RESN_REGN_NUM,
		       SX_DIV_CD,
		       YOOBH_MNTH_DAY,
		       SCLC_DIV_CD,
		       NATN_CD,
		       DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,DEPT_CD,'2') AS DEPT_NM,
		       BUSIN_CD,
		       CURR_AFFN_DEPT_CD,
		       fcBass0400CDNM(#dpobCd#,CURR_AFFN_DEPT_CD,'2') AS CURR_AFFN_DEPT_NM,
		       REPBTY_BUSIN_DIV_CD,
		       TYP_OCCU_CD,
		       fcBass0300CDNM(#dpobCd#,TYP_OCCU_CD) AS TYP_OCCU_NM,
		       ODTY_CD,
		       fcBass0300CDNM(#dpobCd#,ODTY_CD) AS ODTY_NM,
		       FRST_EMYMT_DT,
		       EMYMT_DIV_CD,
		       EMYMT_DIV_CD AS emymtDivCdcommCd ,
		       fcBass0300CDNM(#dpobCd#,EMYMT_DIV_CD) AS emymtDivCdcommCdNm,
		       EMYMT_BGNN_DT,
		       EMYMT_END_DT,
		       PYSP_CD,
		       fcBass0300CDNM(DPOB_CD,PYSP_CD) AS PYSP_NM,
		       HDOFC_CODTN_CD,
		       fcBass0300CDNM(DPOB_CD,HDOFC_CODTN_CD) AS HDOFC_CODTN_NM,
		       RETRY_DT,
		       RETRY_REAS_CTNT,
		       FRGNR_DIV_CD,
		       fcBass0300CDNM(DPOB_CD,FRGNR_DIV_CD) AS FRGNR_DIV_NM,
		       PSPT_NUM,
		       STY_BGNN_DT,
		       STY_END_DT,
		       END_SCHL,
		       END_DEGR_DIV_CD,
		       fcBass0300CDNM(DPOB_CD,END_DEGR_DIV_CD) AS END_DEGR_DIV_NM,
		       PMTN_SCDU_DT,
		       PYSP_PRMTN_SCDU_DT,
		       REYMN_SCDU_DT,
		       LOG_SVC_YR_NUM_CD,
		       fcBass0300CDNM(#dpobCd#,LOG_SVC_YR_NUM_CD) AS LOG_SVC_YR_NUM_NM,
		       LOG_SVC_MNTH_ICM_CD,
		       (SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = LOG_SVC_YR_NUM_CD)
                         ||' '||(SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = LOG_SVC_MNTH_ICM_CD) AS LOG_SVC_MNTH_ICM_NM,
		       CURR_PYSP_APPMT_DT,
		       CURR_DEPT_APPMT_DT,
		       PERN_NOTE_CTNT,
		       KYBDR,
		       INPT_DT,
		       INPT_ADDR,
		       ISMT,
		       REVN_DT,
		       REVN_ADDR,
		       (SELECT MAX (B.CURR_PAE_WORK_NM)
		          FROM PSNL0110 B
		         WHERE B.DPOB_CD = A.DPOB_CD AND B.SYSTEMKEY = A.SYSTEMKEY)
		          AS CURR_PAE_WORK_NM,
		       (SELECT MAX (C.PIC_FLNM )
		          FROM PSNL0125 C
		         WHERE C.DPOB_CD = A.DPOB_CD AND C.SYSTEMKEY = A.SYSTEMKEY)
		          AS PIC_FLNM,
		       PYSP_GRDE_CD,
		       fcBass0300CDNM(#dpobCd#,PYSP_GRDE_CD) AS PYSP_GRDE_NM,
		       DTIL_OCCU_CLS_DIV_CD,
		         DTIL_OCCU_INTTN_CD ,
		         fcBassEx0350CDNM(A.DPOB_CD,A.TYP_OCCU_CD,A.DTIL_OCCU_INTTN_CD,'1' ) AS DTIL_OCCU_CLS_NM,
		       '('||(SELECT BUSIN_APPTN_YR FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR)||')'||
               (SELECT BUSIN_NM FROM BASS0500 WHERE A.DPOB_CD = DPOB_CD AND A.CURR_AFFN_DEPT_CD = DEPT_CD AND A.BUSIN_CD = BUSIN_CD AND SUBSTR(A.EMYMT_BGNN_DT,1,4) = BUSIN_APPTN_YR) AS BUSIN_NM         
		  FROM PSNL0100 A
		 WHERE 1=1
		   <isNotEmpty prepend="AND" property="dpobCd" >
			 	DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		       <isNotEmpty property="emymtBgnnDt01" >
		           <isNotEmpty prepend="AND" property="emymtBgnnDt02" >
			 			DECODE(HDOFC_CODTN_CD,'A0030010',FRST_EMYMT_DT,EMYMT_BGNN_DT)  BETWEEN #emymtBgnnDt01# AND #emymtBgnnDt02#
			 		</isNotEmpty>
		       </isNotEmpty>   
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="deptCd" >
			 	CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="businCd" >
			 	BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="typOccuCd" >
			 	TYP_OCCU_CD=#typOccuCd#
		       </isNotEmpty> 
		      <isNotEmpty prepend="AND" property="dtilOccuInttnCd" >
			     DTIL_OCCU_INTTN_CD=#dtilOccuInttnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
					ORDER BY 
						DPOB_CD ASC
						,RESN_REGN_NUM ASC 
							, RETRY_DT DESC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>
	<!-- 4대보험 대상자 -->	
	<select id="prgmComPsnl0100DAO.selectInsrPsnl0100ListTotCnt_S" parameterClass="prgmComSearchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM PSNL0100
			WHERE 1=1 
			  <isNotEmpty prepend="AND" property="dpobCd" >
			 	DPOB_CD=#dpobCd#
		       </isNotEmpty>  
		           <isNotEmpty   property="emymtBgnnDt01" >
		           <isNotEmpty prepend="AND" property="emymtBgnnDt02" >
			 			DECODE(HDOFC_CODTN_CD,'A0030010',FRST_EMYMT_DT,EMYMT_BGNN_DT)  BETWEEN #emymtBgnnDt01# AND #emymtBgnnDt02#
			 		</isNotEmpty>
		       </isNotEmpty>   
		         <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="deptCd" >
			 	CURR_AFFN_DEPT_CD=#deptCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="businCd" >
			 	BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="typOccuCd" >
			 	TYP_OCCU_CD=#typOccuCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="dtilOccuInttnCd" >
			     DTIL_OCCU_INTTN_CD=#dtilOccuInttnCd#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
	</select>
	<select id="prgmComPsnl0100DAO.selectPsnl0100ToPsnl0126List_D" parameterClass="prgmComSearchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
	    SELECT A.DPOB_CD,
               A.SYSTEMKEY,
               A.HAN_NM,
               A.ENG_NM,
               A.CHIN_CHAR_NM,
               SUBSTR(A.RESN_REGN_NUM,0,6)||'-'||SUBSTR(A.RESN_REGN_NUM,7) AS RESN_REGN_NUM,
               A.SX_DIV_CD,
               A.YOOBH_MNTH_DAY,
               A.SCLC_DIV_CD,
                fcBass0300CDNM(A.DPOB_CD,A.SCLC_DIV_CD) AS SCLC_DIV_NM,
               A.NATN_CD,
               A.DEPT_CD,
               fcBass0400CDNM(A.DPOB_CD,A.DEPT_CD,'2') AS DEPT_NM,
               A.BUSIN_CD,
               A.CURR_AFFN_DEPT_CD, 
               fcBass0400CDNM(A.DPOB_CD,A.CURR_AFFN_DEPT_CD,'2') AS CURR_AFFN_DEPT_NM,
               A.REPBTY_BUSIN_DIV_CD,
                fcBass0300CDNM(A.DPOB_CD,A.REPBTY_BUSIN_DIV_CD) AS REPBTY_BUSIN_DIV_NM,
               A.TYP_OCCU_CD,
               fcBass0320CDNM(A.DPOB_CD,A.TYP_OCCU_CD) AS TYP_OCCU_NM,
               A.ODTY_CD,
               fcBass0300CDNM(A.DPOB_CD,A.ODTY_CD) AS ODTY_NM,
               A.FRST_EMYMT_DT,
               A.EMYMT_DIV_CD,
               fcBass0300CDNM(A.DPOB_CD,A.EMYMT_DIV_CD) AS EMYMT_DIV_NM,
               A.EMYMT_BGNN_DT,
               A.EMYMT_END_DT,
               A.PYSP_CD,
               fcBass0300CDNM(A.DPOB_CD,A.PYSP_CD) AS PYSP_NM,
               A.HDOFC_CODTN_CD,
                fcBass0300CDNM(A.DPOB_CD,A.HDOFC_CODTN_CD) AS HDOFC_CODTN_NM,
               A.RETRY_DT,
               A.RETRY_REAS_CTNT,
               A.FRGNR_DIV_CD,
               fcBass0300CDNM(A.DPOB_CD,A.FRGNR_DIV_CD) AS FRGNR_DIV_NM,
               A.PSPT_NUM,
               A.STY_BGNN_DT,
               A.STY_END_DT,
               A.END_SCHL,
               A.END_DEGR_DIV_CD,
                fcBass0300CDNM(A.DPOB_CD,A.END_DEGR_DIV_CD) AS END_DEGR_DIV_NM,
               A.PMTN_SCDU_DT,
               A.PYSP_PRMTN_SCDU_DT,
               A.REYMN_SCDU_DT,
               A.LOG_SVC_YR_NUM_CD,
               fcBass0300CDNM(A.DPOB_CD,A.LOG_SVC_YR_NUM_CD) AS LOG_SVC_YR_NUM_NM,
               A.LOG_SVC_MNTH_ICM_CD,
               (SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = A.LOG_SVC_YR_NUM_CD)
                         ||' '||(SELECT  COMM_CD_NM FROM BASS0300 C WHERE  C.COMM_CD = A.LOG_SVC_MNTH_ICM_CD) AS LOG_SVC_MNTH_ICM_NM,
               A.CURR_PYSP_APPMT_DT,
               A.CURR_DEPT_APPMT_DT,
               A.PERN_NOTE_CTNT,
               A.KYBDR,
               A.INPT_DT,
               A.INPT_ADDR,
               A.ISMT,
               A.REVN_DT,
               A.REVN_ADDR,
               (SELECT MAX (B.CURR_PAE_WORK_NM)
                  FROM PSNL0110 B
                 WHERE B.DPOB_CD = A.DPOB_CD AND B.SYSTEMKEY = A.SYSTEMKEY)
                  AS CURR_PAE_WORK_NM,
               (SELECT MAX (C.PIC_FLNM )
                  FROM PSNL0125 C
                 WHERE C.DPOB_CD = A.DPOB_CD AND C.SYSTEMKEY = A.SYSTEMKEY)
                  AS PIC_FLNM,
               A.PYSP_GRDE_CD,
               fcBass0300CDNM(A.DPOB_CD,A.PYSP_GRDE_CD) AS PYSP_GRDE_NM,
               A.DTIL_OCCU_CLS_DIV_CD,
                 A.DTIL_OCCU_INTTN_CD ,
		         fcBassEx0350CDNM(A.DPOB_CD,A.TYP_OCCU_CD,A.DTIL_OCCU_INTTN_CD,'1' ) AS DTIL_OCCU_CLS_DIV_NM 
           FROM PSNL0100 A 
             WHERE 1=1
             AND   NOT EXISTS (
                 SELECT * FROM PSNL0126  C
                 WHERE  A.DPOB_CD   = C.DPOB_CD
                 AND A.SYSTEMKEY = C.SYSTEMKEY 
                 AND C.HODY_APPTN_YR = #hodyApptnYr#
             )
		  <isNotEmpty prepend="AND" property="dpobCd" >
			 	A.DPOB_CD=#dpobCd#
		       </isNotEmpty> 
		     AND EXISTS  (
                           SELECT  C.DPOB_CD,
                                 C.DTIL_OCCU_INTTN_CD,
                                 C.TYP_OCCU_CD,
                                 C.DEPT_CD FROM 
                                             ( SELECT * 
                                                 FROM TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,'' ))) C
                                            WHERE     C.DPOB_CD = A.DPOB_CD
						                        AND C.DEPT_CD = A.CURR_AFFN_DEPT_CD
						                        AND NVL(C.TYP_OCCU_CD,'TT')  = NVL(A.TYP_OCCU_CD,'TT') 
                                                AND NVL(C.DTIL_OCCU_INTTN_CD,'TT')  = NVL(A.DTIL_OCCU_INTTN_CD,'TT')
                                               <isNotEmpty property="deptCd" prepend="AND">
												<![CDATA[
												 C.DEPT_CD
												]]>
												<iterate prepend="IN" property="deptCdArr" open="(" close=")" conjunction=",">
												 #deptCdArr[]#
												</iterate>
												</isNotEmpty> 
                                          )       
		       <isNotEmpty prepend="AND" property="businCd" >
			 	A.BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 A.TYP_OCCU_CD
				]]>
				<iterate prepend="IN" property="typOccuCdArr" open="(" close=")" conjunction=",">
				 #typOccuCdArr[]#
				</iterate>
				</isNotEmpty>  
			    	<isNotEmpty property="dtilOccuInttnCd" prepend="AND">
						<![CDATA[
							 A.DTIL_OCCU_INTTN_CD
						]]>
						<iterate prepend="IN" property="dtilOccuInttnCdArr" open="(" close=")" conjunction=",">
							 #dtilOccuInttnCdArr[]#
						</iterate>
					</isNotEmpty>  
		        
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	A.SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	A.HAN_NM LIKE '%' || #hanNm# || '%'
		       </isNotEmpty> 
		      <!--   <isNotEmpty prepend="AND" property="payrMangeDeptCd" >
			 	C.PAYR_MANG_DEPT_CD=#payrMangeDeptCd#
		       </isNotEmpty>  -->
		        <isNotEmpty property="hdofcCodtnCd" prepend="AND">
				<![CDATA[
				 A.HDOFC_CODTN_CD
				]]>
				<iterate prepend="IN" property="hdofcCodtnCdArr" open="(" close=")" conjunction=",">
				 #hdofcCodtnCdArr[]#
				</iterate>
				</isNotEmpty> 
		          <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	A.EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty>  
		          <isNotEmpty prepend="AND" property="businApptnYr" >
			 	 SUBSTR(A.EMYMT_BGNN_DT,1,4) =#businApptnYr#
		       </isNotEmpty>  
		       
					ORDER BY 
						A.DPOB_CD ASC
						  ,(SELECT LPAD(DEPT_RANK,5,'0')  
                                   FROM BASS0400 DD
                                   WHERE DD.DEPT_CD = A.CURR_AFFN_DEPT_CD
                                     AND DD.DPOB_CD = A.DPOB_CD) ASC 
						, A.RESN_REGN_NUM ASC  
		                , A.DTIL_OCCU_CLS_DIV_CD ASC
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM >= #firstIndex#
]]>
	</select>	

	<select id="prgmComPsnl0100DAO.selectPsnl0100ToPsnl0126ListTotCnt_S" parameterClass="prgmComSearchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			  FROM PSNL0100 A              
			  WHERE 1=1
              AND   NOT EXISTS (
                 SELECT * FROM PSNL0126  C
                 WHERE  A.DPOB_CD   = C.DPOB_CD
                 AND    A.SYSTEMKEY = C.SYSTEMKEY
                 AND    C.HODY_APPTN_YR = #hodyApptnYr#
             )
		       AND EXISTS  (
                            SELECT  C.DPOB_CD,
                                 C.DTIL_OCCU_INTTN_CD,
                                 C.TYP_OCCU_CD,
                                 C.DEPT_CD FROM 
                                             ( SELECT * 
                                                 FROM TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,'' )) ) C
                                            WHERE     C.DPOB_CD = A.DPOB_CD
						                        AND C.DEPT_CD = A.CURR_AFFN_DEPT_CD
						                        AND NVL(C.TYP_OCCU_CD,'TT')  = NVL(A.TYP_OCCU_CD,'TT') 
                                                AND NVL(C.DTIL_OCCU_INTTN_CD,'TT')  = NVL(A.DTIL_OCCU_INTTN_CD,'TT')
                                               <isNotEmpty property="deptCd" prepend="AND">
												<![CDATA[
												 C.DEPT_CD
												]]>
												<iterate prepend="IN" property="deptCdArr" open="(" close=")" conjunction=",">
												 #deptCdArr[]#
												</iterate>
												</isNotEmpty> 
				 
                                          ) 
                <isNotEmpty prepend="AND" property="dpobCd" >
			 	A.DPOB_CD=#dpobCd#
		       </isNotEmpty>                               
		       <isNotEmpty prepend="AND" property="businCd" >
			 	A.BUSIN_CD=#businCd#
		       </isNotEmpty> 
		       <isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 A.TYP_OCCU_CD
				]]>
				<iterate prepend="IN" property="typOccuCdArr" open="(" close=")" conjunction=",">
				 #typOccuCdArr[]#
				</iterate>
				</isNotEmpty>  
			  	<isNotEmpty property="dtilOccuInttnCd" prepend="AND">
						<![CDATA[
							 A.DTIL_OCCU_INTTN_CD
						]]>
						<iterate prepend="IN" property="dtilOccuInttnCdArr" open="(" close=")" conjunction=",">
							 #dtilOccuInttnCdArr[]#
						</iterate>
			   </isNotEmpty>  
		       <isNotEmpty prepend="AND" property="systemkey" >
			 	A.SYSTEMKEY=#systemkey#
		       </isNotEmpty> 
		       <isNotEmpty prepend="AND" property="hanNm" >
			 	A.HAN_NM LIKE '%' || #hanNm# ||  '%'
		       </isNotEmpty> 
		       <!-- 
		        <isNotEmpty prepend="AND" property="payrMangeDeptCd" >
			 	C.PAYR_MANG_DEPT_CD=#payrMangeDeptCd#
		       </isNotEmpty>  -->
		       <isNotEmpty property="hdofcCodtnCd" prepend="AND">
			   <![CDATA[
				 A.HDOFC_CODTN_CD
				]]>
			  <iterate prepend="IN" property="hdofcCodtnCdArr" open="(" close=")" conjunction=",">
				 #hdofcCodtnCdArr[]#
			  </iterate>
			  </isNotEmpty> 
		      <isNotEmpty prepend="AND" property="emymtDivCd" >
			 	A.EMYMT_DIV_CD=#emymtDivCd#
		       </isNotEmpty>  
		           <isNotEmpty prepend="AND" property="businApptnYr" >
			 	 SUBSTR(A.EMYMT_BGNN_DT,1,4) =#businApptnYr#
		       </isNotEmpty> 
		         
	</select>

	

</sqlMap>
