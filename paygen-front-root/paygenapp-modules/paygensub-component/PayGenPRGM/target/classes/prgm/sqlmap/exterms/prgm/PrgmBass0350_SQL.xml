<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="PGRM_Bass0350">

	<typeAlias alias="egovMap"
		type="egovframework.rte.psl.dataaccess.util.EgovMap" />
	<typeAlias alias="prgmComSearchVO"
		type="com.app.exterms.prgm.server.vo.PrgmComSearchVO" />

	<resultMap id="bass0350"
		class="com.app.exterms.prgm.server.vo.PrgmComBass0350VO">
		<result property="dpobCd" column="DPOB_CD" columnIndex="1" />
		<result property="dtilOccuInttnCd" column="DTIL_OCCU_INTTN_CD"
			columnIndex="2" />
		<result property="typOccuCd" column="TYP_OCCU_CD" columnIndex="3" />
		<result property="dtilOccuClsDivCd" column="DTIL_OCCU_CLS_DIV_CD"
			columnIndex="4" />
		<result property="pyspGrdeCd" column="PYSP_GRDE_CD"
			columnIndex="5" />
		<result property="dtilOccuClsNm" column="DTIL_OCCU_CLS_NM"
			columnIndex="6" />
		<result property="dtilOccuJbfmlDivCd" column="DTIL_OCCU_JBFML_DIV_CD"
			columnIndex="7" />
		<result property="dtilOccuClsUseYn" column="DTIL_OCCU_CLS_USE_YN"
			columnIndex="8" />
		<result property="chngTgtYn" column="CHNG_TGT_YN" columnIndex="9" />
		<result property="dtilOccuClsCtnt" column="DTIL_OCCU_CLS_CTNT"
			columnIndex="10" />
		<result property="dtilOccuClsOrd" column="DTIL_OCCU_CLS_ORD"
			columnIndex="11" />
		<result property="bggLogSvcYrNumCd" column="BGG_LOG_SVC_YR_NUM_CD"
			columnIndex="12" />
		<result property="kybdr" column="KYBDR" columnIndex="13" />
		<result property="inptDt" column="INPT_DT" columnIndex="14" />
		<result property="inptAddr" column="INPT_ADDR" columnIndex="15" />
		<result property="ismt" column="ISMT" columnIndex="16" />
		<result property="revnDt" column="REVN_DT" columnIndex="17" />
		<result property="revnAddr" column="REVN_ADDR" columnIndex="18" />
	</resultMap>


	<select id="prgmComBass0350DAO.selectBass0350List_D"
		parameterClass="prgmComSearchVO" resultClass="egovMap">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (
		SELECT A01.* FROM
		(SELECT
		DISTINCT AA.DPOB_CD
		, AA.TYP_OCCU_CD
		,
		fcBass0320CDNM(AA.DPOB_CD,AA.TYP_OCCU_CD) AS TYP_OCCU_NM
		,
		AA.DTIL_OCCU_INTTN_CD
		, AA.DTIL_OCCU_CLS_DIV_CD
		<isNotEqual property="dtilOccuClsUseYn" compareValue="A">
			,
			AA.DTIL_OCCU_CLS_NM
		</isNotEqual>
		<isEqual property="dtilOccuClsUseYn" compareValue="A">
			,('[' ||
			DECODE(AA.DTIL_OCCU_CLS_USE_YN,'Y','Y','X') || ']' ||
			AA.DTIL_OCCU_CLS_NM) AS DTIL_OCCU_CLS_NM
		</isEqual>
		, AA.DTIL_OCCU_JBFML_DIV_CD
		, AA.DTIL_OCCU_CLS_USE_YN
		, AA.CHNG_TGT_YN
		,
		AA.DTIL_OCCU_CLS_CTNT
		, AA.DTIL_OCCU_CLS_ORD
		, AA.BGG_LOG_SVC_YR_NUM_CD
		, AA.PYSP_GRDE_CD
		, fcBass0300CDNM(AA.DPOB_CD,AA.PYSP_GRDE_CD) AS
		PYSP_GRDE_NM
		FROM BASS0350 AA ,
		(
		SELECT C.DPOB_CD,
		C.DTIL_OCCU_INTTN_CD,
		C.TYP_OCCU_CD,
		C.DEPT_CD FROM
		( SELECT *
		FROM
		TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,''
		)) ) C
		<isNotEmpty property="deptCd" prepend="WHERE">
												<![CDATA[
												 C.DEPT_CD
												]]>
			<iterate prepend="IN" property="deptCdArr" open="(" close=")"
				conjunction=",">
				#deptCdArr[]#
			</iterate>
		</isNotEmpty>

		) BB
		WHERE AA.DPOB_CD = BB.DPOB_CD
		AND AA.TYP_OCCU_CD = BB.TYP_OCCU_CD
		AND AA.DTIL_OCCU_INTTN_CD = BB.DTIL_OCCU_INTTN_CD
		<isEmpty property="ymdGb" prepend="AND">
			DTIL_OCCU_CLS_USE_YN = 'Y'
		</isEmpty>
		<isEqual property="ymdGb" compareValue="Y">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
			</isNotEmpty>
		</isEqual>
		<isEqual property="ymdGb" compareValue="YM">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
			</isNotEmpty>
		</isEqual>
		<isEqual property="ymdGb" compareValue="YMD">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				(NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
				AND
				(NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
			</isNotEmpty>
		</isEqual>
		<isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 AA.TYP_OCCU_CD
				]]>
			<iterate prepend="IN" property="typOccuCdArr" open="(" close=")"
				conjunction=",">
				#typOccuCdArr[]#
			</iterate>
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="dpobCd">
			AA.DPOB_CD=#dpobCd#
		</isNotEmpty>
		) A01
		ORDER BY
		A01.DPOB_CD ASC
		, A01.DTIL_OCCU_CLS_USE_YN DESC
		,
		A01.DTIL_OCCU_CLS_NM ASC
		, A01.DTIL_OCCU_CLS_ORD ASC
		, A01.TYP_OCCU_CD
		ASC
		, A01.DTIL_OCCU_INTTN_CD ASC
		<isNotEqual property="lastIndex" compareValue="-1">
	 <![CDATA[					
		) A WHERE ROWNUM <= #lastIndex#
	)WHERE RNUM >= #firstIndex#
	]]>
		</isNotEqual>
		<isEqual property="lastIndex" compareValue="-1">
	  <![CDATA[					
		) A  
	)
	]]>
		</isEqual>
	</select>

	<select id="prgmComBass0350DAO.selectBass0350ListTotCnt_S"
		parameterClass="prgmComSearchVO" resultClass="int">
		SELECT COUNT(*) totcnt
		FROM (
		SELECT DISTINCT AA.DPOB_CD
		, AA.TYP_OCCU_CD
		, fcBass0320CDNM(AA.DPOB_CD,AA.TYP_OCCU_CD) AS TYP_OCCU_NM
		,
		AA.DTIL_OCCU_INTTN_CD
		, AA.DTIL_OCCU_CLS_DIV_CD
		, AA.DTIL_OCCU_CLS_NM
		,
		AA.DTIL_OCCU_JBFML_DIV_CD
		, AA.DTIL_OCCU_CLS_USE_YN
		, AA.CHNG_TGT_YN
		,
		AA.DTIL_OCCU_CLS_CTNT
		, AA.DTIL_OCCU_CLS_ORD
		, AA.BGG_LOG_SVC_YR_NUM_CD
		, AA.PYSP_GRDE_CD
		, fcBass0300CDNM(AA.DPOB_CD,AA.PYSP_GRDE_CD) AS
		PYSP_GRDE_NM
		FROM BASS0350 AA ,
		(
		SELECT C.DPOB_CD,
		C.DTIL_OCCU_INTTN_CD,
		C.TYP_OCCU_CD,
		C.DEPT_CD FROM
		( SELECT *
		FROM
		TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,''
		)) ) C
		<isNotEmpty property="deptCd" prepend="WHERE">
												<![CDATA[
												 C.DEPT_CD
												]]>
			<iterate prepend="IN" property="deptCdArr" open="(" close=")"
				conjunction=",">
				#deptCdArr[]#
			</iterate>
		</isNotEmpty>

		) BB
		WHERE AA.DPOB_CD = BB.DPOB_CD
		AND AA.TYP_OCCU_CD = BB.TYP_OCCU_CD
		AND AA.DTIL_OCCU_INTTN_CD = BB.DTIL_OCCU_INTTN_CD
		<isEmpty property="ymdGb" prepend="AND">
			DTIL_OCCU_CLS_USE_YN = 'Y'
		</isEmpty>
		<isEqual property="ymdGb" compareValue="Y">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
			</isNotEmpty>
		</isEqual>
		<isEqual property="ymdGb" compareValue="YM">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
			</isNotEmpty>
		</isEqual>
		<isEqual property="ymdGb" compareValue="YMD">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				(NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
				AND
				(NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
			</isNotEmpty>
		</isEqual>
		<isNotEmpty property="typOccuCd" prepend="AND">
						<![CDATA[
						 AA.TYP_OCCU_CD
						]]>
			<iterate prepend="IN" property="typOccuCdArr" open="(" close=")"
				conjunction=",">
				#typOccuCdArr[]#
			</iterate>
		</isNotEmpty>
		<isNotEmpty prepend="AND" property="dpobCd">
			AA.DPOB_CD=#dpobCd#
		</isNotEmpty>
		)
	</select>

	<!-- 팝업호출시 사용 -->
	<!-- sql구문 변경 :2020/12/08 윤아 조건 _ 직종코드, 직종세명 검색 추가 -->
	<select id="prgmComBass0350DAO.selectBass0350PopupList_D"
		parameterClass="prgmComSearchVO" resultClass="egovMap">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (
		SELECT DPOB_CD
		,
		TYP_OCCU_CD
		, DTIL_OCCU_INTTN_CD
		,
		(fcBass0320CDNM(#dpobCd#,TYP_OCCU_CD)) AS TYP_OCCU_NM
		, PYSP_GRDE_CD
		,
		fcBass0300CDNM(#dpobCd#,PYSP_GRDE_CD) AS PYSP_GRDE_NM
		,
		DTIL_OCCU_CLS_DIV_CD
		<isNotEqual property="dtilOccuClsUseYn" compareValue="A">
			,
			DTIL_OCCU_CLS_NM
		</isNotEqual>
		<isEqual property="dtilOccuClsUseYn" compareValue="A">
			,('[' ||
			DECODE(DTIL_OCCU_CLS_USE_YN,'Y','Y','X') || ']' ||
			DTIL_OCCU_CLS_NM)
			AS DTIL_OCCU_CLS_NM
		</isEqual>
		, DTIL_OCCU_CLS_CTNT
		, DTIL_OCCU_CLS_USE_YN
		, KYBDR
		, INPT_DT
		, INPT_ADDR
		, ISMT
		, REVN_DT
		, REVN_ADDR
		, DTIL_OCCU_CLS_ORD
		FROM BASS0350
		WHERE
		DPOB_CD=#dpobCd#
		AND DTIL_OCCU_CLS_USE_YN = 'Y'
		<isNotEmpty prepend="AND" property="typOccuCd">
			NVL(TYP_OCCU_CD,'A0510020') = #typOccuCd#
		</isNotEmpty>
		<isNotEmpty property="dtilOccuClsNm" prepend="AND">
			DTIL_OCCU_CLS_NM like '%'|| #dtilOccuClsNm# || '%'
		</isNotEmpty>

		ORDER BY
		DPOB_CD ASC
		, DTIL_OCCU_CLS_USE_YN DESC
		, DTIL_OCCU_CLS_ORD ASC
		,TYP_OCCU_CD ASC
		, DTIL_OCCU_INTTN_CD ASC
		<isNotEqual property="lastIndex" compareValue="-1">
 <![CDATA[
) A WHERE ROWNUM <= #lastIndex#
) WHERE RNUM >= #firstIndex#
]]>
		</isNotEqual>
		<isEqual property="lastIndex" compareValue="-1">
  <![CDATA[
) A  
)
]]>
		</isEqual>
	</select>
	
	<!-- sql구문 변경 :2020/12/08 윤아  조건 _ 직종코드, 직종세명 검색 추가-->
	<select id="prgmComBass0350DAO.selectBass0350PopupListTotCnt_S"
		parameterClass="prgmComSearchVO" resultClass="int">
		SELECT COUNT(*) totcnt FROM BASS0350
		WHERE DPOB_CD=#dpobCd#
		<isNotEmpty property="typOccuCd" prepend="AND">
			TYP_OCCU_CD = #typOccuCd#
		</isNotEmpty>
		AND NVL(DTIL_OCCU_CLS_USE_YN, 'Y') = 'Y'
		<isNotNull property="dtilOccuClsNm">
			<isNotEmpty property="dtilOccuClsNm" prepend="AND">
				DTIL_OCCU_CLS_NM like '%'|| #dtilOccuClsNm# || '%'
			</isNotEmpty>
		</isNotNull>
	</select>



	<!-- 급여 관련 멀티콤보 처리를 위한 직종 셋팅 부분 처리 -->

	<select id="prgmComBass0350DAO.selectPayrBass0350List_D"
		parameterClass="prgmComSearchVO" resultClass="egovMap">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (
		SELECT A01.* FROM
		(SELECT
		DISTINCT AA.DPOB_CD
		, AA.TYP_OCCU_CD
		,
		fcBass0320CDNM(AA.DPOB_CD,AA.TYP_OCCU_CD) AS TYP_OCCU_NM
		,
		AA.DTIL_OCCU_INTTN_CD
		, AA.DTIL_OCCU_CLS_DIV_CD
		<isNotEqual property="dtilOccuClsUseYn" compareValue="A">
			,
			AA.DTIL_OCCU_CLS_NM
		</isNotEqual>
		<isEqual property="dtilOccuClsUseYn" compareValue="A">
			,('[' ||
			DECODE(AA.DTIL_OCCU_CLS_USE_YN,'Y','Y','X') || ']' ||
			AA.DTIL_OCCU_CLS_NM) AS DTIL_OCCU_CLS_NM
		</isEqual>
		, AA.DTIL_OCCU_JBFML_DIV_CD
		, AA.DTIL_OCCU_CLS_USE_YN
		, AA.CHNG_TGT_YN
		,
		AA.DTIL_OCCU_CLS_CTNT
		, AA.DTIL_OCCU_CLS_ORD
		, AA.BGG_LOG_SVC_YR_NUM_CD
		, AA.PYSP_GRDE_CD
		, fcBass0300CDNM(AA.DPOB_CD,AA.PYSP_GRDE_CD) AS
		PYSP_GRDE_NM
		FROM BASS0350 AA ,
		(
		SELECT C.DPOB_CD,
		C.DTIL_OCCU_INTTN_CD,
		C.TYP_OCCU_CD,
		C.DEPT_CD FROM
		( SELECT *
		FROM
		TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,''
		))) C
		<isNotEmpty property="deptCd" prepend="WHERE">
												<![CDATA[
												 C.DEPT_CD
												]]>
			<iterate prepend="IN" property="deptCdArr" open="(" close=")"
				conjunction=",">
				#deptCdArr[]#
			</iterate>
		</isNotEmpty>
		) BB
		WHERE AA.DPOB_CD = BB.DPOB_CD
		AND AA.TYP_OCCU_CD = BB.TYP_OCCU_CD
		AND AA.DTIL_OCCU_INTTN_CD = BB.DTIL_OCCU_INTTN_CD
		<isNotEmpty property="dtilOccuClsUseYn" prepend="AND">
			AA.DTIL_OCCU_CLS_USE_YN = #typOccuUseYn#
		</isNotEmpty>
		<isEmpty property="dtilOccuClsUseYn" prepend="AND">
			<!-- <isEmpty property="ymdGb" prepend="AND"> -->
			AA.DTIL_OCCU_CLS_USE_YN IN ('Y','N')
			<!-- </isEmpty> -->
		</isEmpty>
		<isEqual property="ymdGb" compareValue="Y">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YM">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YMD">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				(NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
				AND
				(NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
			</isNotEmpty>
		</isEqual>

		<isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 AA.TYP_OCCU_CD
				]]>

			<iterate prepend="IN" property="typOccuCdArr" open="(" close=")"
				conjunction=",">
				#typOccuCdArr[]#
			</iterate>

		</isNotEmpty>

		<isNotEmpty prepend="AND" property="dpobCd">
			AA.DPOB_CD=#dpobCd#
		</isNotEmpty>
		) A01
		ORDER BY A01.DPOB_CD ASC
		, A01.DTIL_OCCU_CLS_USE_YN DESC
		,
		A01.DTIL_OCCU_CLS_NM ASC
		, A01.DTIL_OCCU_CLS_ORD ASC
		, A01.TYP_OCCU_CD
		ASC
		, A01.DTIL_OCCU_INTTN_CD ASC
		<isNotEqual property="lastIndex" compareValue="-1">
	 <![CDATA[					
		) A WHERE ROWNUM <= #lastIndex#
	)WHERE RNUM >= #firstIndex#
	]]>
		</isNotEqual>

		<isEqual property="lastIndex" compareValue="-1">
	  <![CDATA[					
			) A  
		)
		]]>
		</isEqual>

	</select>
	<!-- <isEmpty property="ymdGb" prepend="AND"> AA.DTIL_OCCU_CLS_USE_YN = 
		'Y' </isEmpty> -->
	<!-- ORDER BY AA.DPOB_CD ASC , AA.DTIL_OCCU_CLS_ORD ASC , AA.TYP_OCCU_CD 
		ASC , AA.DTIL_OCCU_INTTN_CD ASC <isNotEmpty prepend="AND" property="typOccuCd"> 
		A.TYP_OCCU_CD = #typOccuCd# </isNotEmpty> <isNotEmpty prepend="AND" property="pyspGrdeCd"> 
		NVL(A.PYSP_GRDE_CD,'A0060000') = #pyspGrdeCd# </isNotEmpty> -->
	<select id="prgmComBass0350DAO.selectPayrBass0350ListTotCnt_S"
		parameterClass="prgmComSearchVO" resultClass="int">
		SELECT COUNT(*) totcnt
		FROM (
		SELECT DISTINCT AA.DPOB_CD
		, AA.TYP_OCCU_CD
		, fcBass0320CDNM(AA.DPOB_CD,AA.TYP_OCCU_CD) AS TYP_OCCU_NM
		,
		AA.DTIL_OCCU_INTTN_CD
		, AA.DTIL_OCCU_CLS_DIV_CD
		, AA.DTIL_OCCU_CLS_NM
		,
		AA.DTIL_OCCU_JBFML_DIV_CD
		, AA.DTIL_OCCU_CLS_USE_YN
		, AA.CHNG_TGT_YN
		,
		AA.DTIL_OCCU_CLS_CTNT
		, AA.DTIL_OCCU_CLS_ORD
		, AA.BGG_LOG_SVC_YR_NUM_CD
		, AA.PYSP_GRDE_CD
		, fcBass0300CDNM(AA.DPOB_CD,AA.PYSP_GRDE_CD) AS
		PYSP_GRDE_NM
		FROM BASS0350 AA ,
		(
		SELECT C.DPOB_CD,
		C.DTIL_OCCU_INTTN_CD,
		C.TYP_OCCU_CD,
		C.DEPT_CD FROM
		( SELECT *
		FROM
		TABLE(PKG_DTIL_AUTH.FN_DTIL_AUTH_TB(#dpobCd#,#payrMangDeptYn#,#payrMangDeptCd#,#deptCd#,#usrId#,#deptCdAuth#,''
		))) C
		<isNotEmpty property="deptCd" prepend="WHERE">
												<![CDATA[
												 C.DEPT_CD
												]]>
			<iterate prepend="IN" property="deptCdArr" open="(" close=")"
				conjunction=",">
				#deptCdArr[]#
			</iterate>
		</isNotEmpty>
		) BB
		WHERE AA.DPOB_CD = BB.DPOB_CD
		AND AA.TYP_OCCU_CD = BB.TYP_OCCU_CD
		AND AA.DTIL_OCCU_INTTN_CD = BB.DTIL_OCCU_INTTN_CD
		<isNotEmpty property="dtilOccuClsUseYn" prepend="AND">
			AA.DTIL_OCCU_CLS_USE_YN = #typOccuUseYn#
		</isNotEmpty>
		<isEmpty property="dtilOccuClsUseYn" prepend="AND">
			<!-- <isEmpty property="ymdGb" prepend="AND"> -->
			AA.DTIL_OCCU_CLS_USE_YN IN ('Y','N')
			<!-- </isEmpty> -->
		</isEmpty>

		<isEqual property="ymdGb" compareValue="Y">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YM">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YMD">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				(NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
				AND
				(NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
			</isNotEmpty>
		</isEqual>

		<isNotEmpty property="typOccuCd" prepend="AND">
				<![CDATA[
				 AA.TYP_OCCU_CD
				]]>
			<iterate prepend="IN" property="typOccuCdArr" open="(" close=")"
				conjunction=",">
				#typOccuCdArr[]#
			</iterate>
		</isNotEmpty>

		<isNotEmpty prepend="AND" property="dpobCd">
			AA.DPOB_CD=#dpobCd#
		</isNotEmpty>
		)

	</select>
	<!-- <isEmpty property="ymdGb" prepend="AND"> AA.DTIL_OCCU_CLS_USE_YN = 
		'Y' </isEmpty> -->

	<select id="prgmComBass0350DAO.selectNonBass0350List_D"
		parameterClass="prgmComSearchVO" resultClass="egovMap">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (
		SELECT A01.* FROM
		(SELECT
		AA.DPOB_CD
		, AA.TYP_OCCU_CD
		, fcBass0320CDNM(AA.DPOB_CD,AA.TYP_OCCU_CD)
		AS TYP_OCCU_NM
		, AA.DTIL_OCCU_INTTN_CD
		, AA.DTIL_OCCU_CLS_DIV_CD
		<isNotEqual property="dtilOccuClsUseYn" compareValue="A">
			,
			AA.DTIL_OCCU_CLS_NM
		</isNotEqual>
		<isEqual property="dtilOccuClsUseYn" compareValue="A">
			,('[' ||
			DECODE(AA.DTIL_OCCU_CLS_USE_YN,'Y','Y','X') || ']' ||
			AA.DTIL_OCCU_CLS_NM) AS DTIL_OCCU_CLS_NM
		</isEqual>
		, AA.DTIL_OCCU_JBFML_DIV_CD
		, AA.DTIL_OCCU_CLS_USE_YN
		, AA.CHNG_TGT_YN
		,
		AA.DTIL_OCCU_CLS_CTNT
		, AA.DTIL_OCCU_CLS_ORD
		, AA.BGG_LOG_SVC_YR_NUM_CD
		, AA.PYSP_GRDE_CD
		, fcBass0300CDNM(AA.DPOB_CD,AA.PYSP_GRDE_CD) AS
		PYSP_GRDE_NM
		FROM BASS0350 AA
		WHERE AA.DPOB_CD=#dpobCd#
		<isNotEmpty property="dtilOccuClsUseYn" prepend="AND">
			<isNotEqual property="dtilOccuClsUseYn" compareValue="A">
				AA.DTIL_OCCU_CLS_USE_YN = #dtilOccuClsUseYn#
			</isNotEqual>
			<isEqual property="dtilOccuClsUseYn" compareValue="A">
				AA.DTIL_OCCU_CLS_USE_YN IN ('Y','N')
			</isEqual>
		</isNotEmpty>
		<isEmpty property="dtilOccuClsUseYn" prepend="AND">
			<!-- <isEmpty property="ymdGb" prepend="AND"> -->
			AA.DTIL_OCCU_CLS_USE_YN IN ('Y','N')
			<!-- </isEmpty> -->
		</isEmpty>

		<isEqual property="ymdGb" compareValue="Y">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YM">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YMD">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				(NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
				AND
				(NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
			</isNotEmpty>
		</isEqual>

		<isNotEmpty property="typOccuCd" prepend="AND">
					<![CDATA[
					 AA.TYP_OCCU_CD
					]]>
			<iterate prepend="IN" property="typOccuCdArr" open="(" close=")"
				conjunction=",">
				#typOccuCdArr[]#
			</iterate>
		</isNotEmpty>
		) A01
		ORDER BY
		A01.DPOB_CD ASC
		, A01.DTIL_OCCU_CLS_USE_YN DESC
		,
		A01.DTIL_OCCU_CLS_NM ASC
		, A01.DTIL_OCCU_CLS_ORD ASC
		, A01.TYP_OCCU_CD
		ASC
		, A01.DTIL_OCCU_INTTN_CD ASC
		<isNotEqual property="lastIndex" compareValue="-1">
	 <![CDATA[					
		) A WHERE ROWNUM <= #lastIndex#
	)WHERE RNUM >= #firstIndex#
	]]>
		</isNotEqual>

		<isEqual property="lastIndex" compareValue="-1">
	  <![CDATA[					
		) A  
	)
	]]>
		</isEqual>

	</select>

	<!-- <isEmpty property="ymdGb" prepend="AND"> AA.DTIL_OCCU_CLS_USE_YN = 
		'Y' </isEmpty> -->

	<select id="prgmComBass0350DAO.selectNonBass0350ListTotCnt_S"
		parameterClass="prgmComSearchVO" resultClass="int">
		SELECT COUNT(*) totcnt
		FROM (
		SELECT AA.DPOB_CD
		, AA.TYP_OCCU_CD
		,
		fcBass0320CDNM(AA.DPOB_CD,AA.TYP_OCCU_CD) AS TYP_OCCU_NM
		,
		AA.DTIL_OCCU_INTTN_CD
		, AA.DTIL_OCCU_CLS_DIV_CD
		, AA.DTIL_OCCU_CLS_NM
		,
		AA.DTIL_OCCU_JBFML_DIV_CD
		, AA.DTIL_OCCU_CLS_USE_YN
		, AA.CHNG_TGT_YN
		,
		AA.DTIL_OCCU_CLS_CTNT
		, AA.DTIL_OCCU_CLS_ORD
		, AA.BGG_LOG_SVC_YR_NUM_CD
		, AA.PYSP_GRDE_CD
		, fcBass0300CDNM(AA.DPOB_CD,AA.PYSP_GRDE_CD) AS
		PYSP_GRDE_NM
		FROM BASS0350 AA
		WHERE AA.DPOB_CD=#dpobCd#

		<isNotEmpty property="dtilOccuClsUseYn" prepend="AND">
			<isNotEqual property="dtilOccuClsUseYn" compareValue="A">
				AA.DTIL_OCCU_CLS_USE_YN = #dtilOccuClsUseYn#
			</isNotEqual>
			<isEqual property="dtilOccuClsUseYn" compareValue="A">
				AA.DTIL_OCCU_CLS_USE_YN IN ('Y','N')
			</isEqual>
		</isNotEmpty>
		<isEmpty property="dtilOccuClsUseYn" prepend="AND">
			<!-- <isEmpty property="ymdGb" prepend="AND"> -->
			AA.DTIL_OCCU_CLS_USE_YN IN ('Y','N')
			<!-- </isEmpty> -->
		</isEmpty>

		<isEqual property="ymdGb" compareValue="Y">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,4)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YM">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
				AND
				SUBSTR((NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD'))),1,6)
			</isNotEmpty>
		</isEqual>

		<isEqual property="ymdGb" compareValue="YMD">
			<isNotEmpty prepend="AND" property="strDate">
				#strDate# BETWEEN
				(NVL(AA.DTIL_OCCU_INTTN_STDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
				AND
				(NVL(AA.DTIL_OCCU_INTTN_EDDT,TO_CHAR(SYSDATE,'YYYYMMDD')))
			</isNotEmpty>
		</isEqual>
		<isNotEmpty property="typOccuCd" prepend="AND">
						<![CDATA[
						 AA.TYP_OCCU_CD
						]]>
			<iterate prepend="IN" property="typOccuCdArr" open="(" close=")"
				conjunction=",">
				#typOccuCdArr[]#
			</iterate>
		</isNotEmpty>
		)
	</select>
	<!-- <isEmpty property="ymdGb" prepend="AND"> AA.DTIL_OCCU_CLS_USE_YN = 
		'Y' </isEmpty> -->
</sqlMap>
