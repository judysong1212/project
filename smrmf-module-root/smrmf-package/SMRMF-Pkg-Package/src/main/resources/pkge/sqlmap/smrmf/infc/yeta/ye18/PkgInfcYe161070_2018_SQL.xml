<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="InfcPkgYe161070_2018">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="infcPkgYe161070Srh_2018_VO" type="com.app.smrmf.infc.yearendtax.server.vo.yeta2018.InfcPkgYe161070Srh_2018_VO"/>
	
	<resultMap id="infcPkgYe161070_2018" class="com.app.smrmf.infc.yearendtax.server.vo.yeta2018.InfcPkgYe161070_2018_VO">
		<result property="dpobCd" column="DPOB_CD" columnIndex="1"/>
		<result property="yrtxBlggYr" column="YRTX_BLGG_YR" columnIndex="2"/>
		<result property="clutSeptCd" column="CLUT_SEPT_CD" columnIndex="3"/>
		<result property="systemkey" column="SYSTEMKEY" columnIndex="4"/>
		<result property="yr2000PnsnSvngUseAmt" column="YR2000_PNSN_SVNG_USE_AMT" columnIndex="5"/>
		<result property="yr2000PnsnSvngDdcAmt" column="YR2000_PNSN_SVNG_DDC_AMT" columnIndex="6"/>
		<result property="smceSbizUseAmt" column="SMCE_SBIZ_USE_AMT" columnIndex="7"/>
		<result property="smceSbizDdcAmt" column="SMCE_SBIZ_DDC_AMT" columnIndex="8"/>
		<result property="sbcSvngUseAmt" column="SBC_SVNG_USE_AMT" columnIndex="9"/>
		<result property="sbcSvngDdcAmt" column="SBC_SVNG_DDC_AMT" columnIndex="10"/>
		<result property="lbrrPrptSvngUseAmt" column="LBRR_PRPT_SVNG_USE_AMT" columnIndex="11"/>
		<result property="lbrrPrptSvngDdcAmt" column="LBRR_PRPT_SVNG_DDC_AMT" columnIndex="12"/>
		<result property="hsngSvngUseAmt" column="HSNG_SVNG_USE_AMT" columnIndex="13"/>
		<result property="hsngSvngDdcAmt" column="HSNG_SVNG_DDC_AMT" columnIndex="14"/>
		<result property="hsngIncUseAmtSum" column="HSNG_INC_USE_AMT_SUM" columnIndex="15"/>
		<result property="hsngIncDdcAmtSum" column="HSNG_INC_DDC_AMT_SUM" columnIndex="16"/>
		<result property="cpiv16AsctUseAmt" column="CPIV16_ASCT_USE_AMT" columnIndex="25"/>
		<result property="cpiv16AsctDdcAmt" column="CPIV16_ASCT_DDC_AMT" columnIndex="26"/>
		<result property="cpiv16VntUseAmt" column="CPIV16_VNT_USE_AMT" columnIndex="27"/>
		<result property="cpiv16VntDdcAmt" column="CPIV16_VNT_DDC_AMT" columnIndex="28"/>
		<result property="cpiv17AsctUseAmt" column="CPIV17_ASCT_USE_AMT" columnIndex="29"/>
		<result property="cpiv17AsctDdcAmt" column="CPIV17_ASCT_DDC_AMT" columnIndex="30"/>
		<result property="cpiv17VntUseAmt" column="CPIV17_VNT_USE_AMT" columnIndex="31"/>
		<result property="cpiv17VntDdcAmt" column="CPIV17_VNT_DDC_AMT" columnIndex="32"/>
		<result property="cpiv18AsctUseAmt" column="CPIV18_ASCT_USE_AMT" columnIndex="29"/>
		<result property="cpiv18AsctDdcAmt" column="CPIV18_ASCT_DDC_AMT" columnIndex="30"/>
		<result property="cpiv18VntUseAmt" column="CPIV18_VNT_USE_AMT" columnIndex="31"/>
		<result property="cpiv18VntDdcAmt" column="CPIV18_VNT_DDC_AMT" columnIndex="32"/>
		<result property="ivcpInvmUseAmtSum" column="IVCP_INVM_USE_AMT_SUM" columnIndex="33"/>
		<result property="ivcpInvmDdcAmtSum" column="IVCP_INVM_DDC_AMT_SUM" columnIndex="34"/>
		<result property="crdcUseAmt" column="CRDC_USE_AMT" columnIndex="35"/>
		<result property="drtpCardUseAmt" column="DRTP_CARD_USE_AMT" columnIndex="36"/>
		<result property="cshptUseAmt" column="CSHPT_USE_AMT" columnIndex="37"/>
		<result property="tdmrUseAmt" column="TDMR_USE_AMT" columnIndex="38"/>
		<result property="pbtUseAmt" column="PBT_USE_AMT" columnIndex="39"/>
		<result property="bookShowAmt" column="BOOK_SHOW_AMT" columnIndex="40"/>
		<result property="crdcSumUseAmt" column="CRDC_SUM_USE_AMT" columnIndex="41"/>
		<result property="rdcSumDdcAmt" column="RDC_SUM_DDC_AMT" columnIndex="42"/>
		<result property="prsCrdcUseAmt1" column="PRS_CRDC_USE_AMT1" columnIndex="43"/>
		<result property="tyYrPrsCrdcUseAmt" column="TY_YR_PRS_CRDC_USE_AMT" columnIndex="44"/>
		<result property="pyrPrsAddDdcrtUseAmt" column="PYR_PRS_ADD_DDCRT_USE_AMT" columnIndex="45"/>
		<result property="tyShfyPrsAddDdcrtUseAmt" column="TY_SHFY_PRS_ADD_DDCRT_USE_AMT" columnIndex="46"/>
		<result property="emstAsctCntrUseAmt" column="EMST_ASCT_CNTR_USE_AMT" columnIndex="47"/>
		<result property="emstAsctCntrDdcAmt" column="EMST_ASCT_CNTR_DDC_AMT" columnIndex="48"/>
		<result property="empMntnSnmcUseAmt" column="EMP_MNTN_SNMC_USE_AMT" columnIndex="49"/>
		<result property="empMntnSnmcDdcAmt" column="EMP_MNTN_SNMC_DDC_AMT" columnIndex="50"/>
		<result property="ltrmCniSsUseAmt" column="LTRM_CNI_SS_USE_AMT" columnIndex="51"/>
		<result property="ltrmCniSsDdcAmt" column="LTRM_CNI_SS_DDC_AMT" columnIndex="52"/>
		<result property="kybdr" column="KYBDR" columnIndex="53"/>
		<result property="inptDt" column="INPT_DT" columnIndex="54"/>
		<result property="inptAddr" column="INPT_ADDR" columnIndex="55"/>
		<result property="ismt" column="ISMT" columnIndex="56"/>
		<result property="revnDt" column="REVN_DT" columnIndex="57"/>
		<result property="revnAddr" column="REVN_ADDR" columnIndex="58"/>
	</resultMap>
	
	
	
<!-- +++++++++++++++++++++++++ 2017년도 귀속 로직  시작 ++++++++++++++++++++++++++++++ -->

	<insert id="infcPkgYe161070_2018_DAO.fnYeta3100_YE161070_2018_CREATE_Insert_S">
		<![CDATA[
			INSERT INTO YE161070 
				(  DPOB_CD
				  , YRTX_BLGG_YR
				  , CLUT_SEPT_CD
				  , SYSTEMKEY
				  , YR2000_PNSN_SVNG_USE_AMT
				  , YR2000_PNSN_SVNG_DDC_AMT
				  , SMCE_SBIZ_USE_AMT
				  , SMCE_SBIZ_DDC_AMT
				  , SBC_SVNG_USE_AMT
				  , SBC_SVNG_DDC_AMT
				  , LBRR_PRPT_SVNG_USE_AMT
				  , LBRR_PRPT_SVNG_DDC_AMT
				  , HSNG_SVNG_USE_AMT
				  , HSNG_SVNG_DDC_AMT
				  , HSNG_INC_USE_AMT_SUM
				  , HSNG_INC_DDC_AMT_SUM
				  , CPIV14_ASCT_USE_AMT
				  , CPIV14_ASCT_DDC_AMT
				  , CPIV14_VNT_USE_AMT
				  , CPIV14_VNT_DDC_AMT
				  , CPIV15_ASCT_USE_AMT
				  , CPIV15_ASCT_DDC_AMT
				  , CPIV15_VNT_USE_AMT
				  , CPIV15_VNT_DDC_AMT
				  , CPIV16_ASCT_USE_AMT
				  , CPIV16_ASCT_DDC_AMT
				  , CPIV16_VNT_USE_AMT
				  , CPIV16_VNT_DDC_AMT
				  , CPIV17_ASCT_USE_AMT
				  , CPIV17_ASCT_DDC_AMT
				  , CPIV17_VNT_USE_AMT
				  , CPIV17_VNT_DDC_AMT
				  , CPIV18_ASCT_USE_AMT
				  , CPIV18_ASCT_DDC_AMT
				  , CPIV18_VNT_USE_AMT
				  , CPIV18_VNT_DDC_AMT
				  , IVCP_INVM_USE_AMT_SUM
				  , IVCP_INVM_DDC_AMT_SUM
				  , CRDC_USE_AMT
				  , DRTP_CARD_USE_AMT
				  , CSHPT_USE_AMT
				  , TDMR_USE_AMT
				  , PBT_USE_AMT
				  , BOOK_SHOW_AMT
				  , CRDC_SUM_USE_AMT
				  , RDC_SUM_DDC_AMT
				  , PRS_CRDC_USE_AMT1
				  , TY_YR_PRS_CRDC_USE_AMT
				  , PYR_PRS_ADD_DDCRT_USE_AMT
				  , TY_SHFY_PRS_ADD_DDCRT_USE_AMT
				  , EMST_ASCT_CNTR_USE_AMT
				  , EMST_ASCT_CNTR_DDC_AMT
				  , EMP_MNTN_SNMC_USE_AMT
				  , EMP_MNTN_SNMC_DDC_AMT
				  , LTRM_CNI_SS_USE_AMT
				  , LTRM_CNI_SS_DDC_AMT
				  , KYBDR
				  , INPT_DT
				  , INPT_ADDR
				  , ISMT
				  , REVN_DT
				  , REVN_ADDR )
			VALUES ( #dpobCd#
				  , #yrtxBlggYr#
				  , #clutSeptCd#
				  , #systemkey#
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , 0
				  , #kybdr#
				  , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				  , #inptAddr#
				  , #ismt#
				  , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				  , #revnAddr# )
		]]>
	</insert>
	
	<!-- C_그밖의소득공제  -->
 
		<insert id="infcPkgYe161070_2018_DAO.incTaxDeducDec_nts_Yeta2018_Ye161070_Insert_S">
		<![CDATA[
			INSERT INTO YE161070 
				(  DPOB_CD
				  , YRTX_BLGG_YR
				  , CLUT_SEPT_CD
				  , SYSTEMKEY
				  , YR2000_PNSN_SVNG_USE_AMT
				  , YR2000_PNSN_SVNG_DDC_AMT
				  , SMCE_SBIZ_USE_AMT
				  , SMCE_SBIZ_DDC_AMT
				  , SBC_SVNG_USE_AMT
				  , SBC_SVNG_DDC_AMT
				  , LBRR_PRPT_SVNG_USE_AMT
				  , LBRR_PRPT_SVNG_DDC_AMT
				  , HSNG_SVNG_USE_AMT
				  , HSNG_SVNG_DDC_AMT
				  , HSNG_INC_USE_AMT_SUM
				  , HSNG_INC_DDC_AMT_SUM
				  , CPIV16_ASCT_USE_AMT
				  , CPIV16_ASCT_DDC_AMT
				  , CPIV16_VNT_USE_AMT
				  , CPIV16_VNT_DDC_AMT
				  , CPIV17_ASCT_USE_AMT
				  , CPIV17_ASCT_DDC_AMT
				  , CPIV17_VNT_USE_AMT
				  , CPIV17_VNT_DDC_AMT
				  , CPIV18_ASCT_USE_AMT
				  , CPIV18_ASCT_DDC_AMT
				  , CPIV18_VNT_USE_AMT
				  , CPIV18_VNT_DDC_AMT
				  , IVCP_INVM_USE_AMT_SUM
				  , IVCP_INVM_DDC_AMT_SUM
				  , CRDC_USE_AMT
				  , DRTP_CARD_USE_AMT
				  , CSHPT_USE_AMT
				  , TDMR_USE_AMT
				  , PBT_USE_AMT
				  , BOOK_SHOW_AMT
				  , CRDC_SUM_USE_AMT
				  , RDC_SUM_DDC_AMT
				  , PRS_CRDC_USE_AMT1
				  , TY_YR_PRS_CRDC_USE_AMT
				  , PYR_PRS_ADD_DDCRT_USE_AMT
				  , TY_SHFY_PRS_ADD_DDCRT_USE_AMT
				  , EMST_ASCT_CNTR_USE_AMT
				  , EMST_ASCT_CNTR_DDC_AMT
				  , EMP_MNTN_SNMC_USE_AMT
				  , EMP_MNTN_SNMC_DDC_AMT
				  , LTRM_CNI_SS_USE_AMT
				  , LTRM_CNI_SS_DDC_AMT
				  , KYBDR
				  , INPT_DT
				  , INPT_ADDR
				  , ISMT
				  , REVN_DT
				  , REVN_ADDR )
			 ( SELECT DPOB_CD,
			        YRTX_BLGG_YR,
			       CLUT_SEPT_CD,
			       SYSTEMKEY, 
			       YR2000_PNSN_SVNG_USE_AMT,
			       YR2000_PNSN_SVNG_DDC_AMT,
			       SMCE_SBIZ_USE_AMT,
			       SMCE_SBIZ_DDC_AMT,
			       SBC_SVNG_USE_AMT,
			       SBC_SVNG_DDC_AMT,
			       LBRR_PRPT_SVNG_USE_AMT,
			       LBRR_PRPT_SVNG_DDC_AMT,
			       HSNG_SVNG_USE_AMT,
			       HSNG_SVNG_DDC_AMT,
			       HSNG_INC_USE_AMT_SUM,
			       HSNG_INC_DDC_AMT_SUM,
			       CPIV_ASCT_USE_AMT2,
			       CPIV_ASCT_DDC_AMT2,
			       CPIV_VNT_USE_AMT2,
			       CPIV_VNT_DDC_AMT2,
			       CPIV_ASCT_USE_AMT1,
			       CPIV_ASCT_DDC_AMT1,
			       CPIV_VNT_USE_AMT1,
			       CPIV_VNT_DDC_AMT1,
			       CPIV_ASCT_USE_AMT0,
			       CPIV_ASCT_DDC_AMT0,
			       CPIV_VNT_USE_AMT0,
			       CPIV_VNT_DDC_AMT0,
			       IVCP_INVM_USE_AMT_SUM,
			       IVCP_INVM_DDC_AMT_SUM,
			       CRDC_USE_AMT,
			       DRTP_CARD_USE_AMT,
			       CSHPT_USE_AMT,
			       TDMR_USE_AMT,
			       PBT_USE_AMT,
				   BOOK_SHOW_AMT,
			       CRDC_SUM_USE_AMT,
			       CRDC_SUM_DDC_AMT,
			       PRS_CRDC_USE_AMT1,
			       TY_YR_PRS_CRDC_USE_AMT,
			       PYR_PRS_ADD_DDCRT_USE_AMT,
			       TY_SHFY_PRS_ADD_DDCRT_USE_AMT,
			       EMST_ASCT_CNTR_USE_AMT,
			       EMST_ASCT_CNTR_DDC_AMT,
			       EMP_MNTN_SNMC_USE_AMT,
			       EMP_MNTN_SNMC_DDC_AMT,
			       LTRM_CNI_SS_USE_AMT,
			       LTRM_CNI_SS_DDC_AMT
			      , #kybdr#
				  , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				  , #inptAddr#
				  , #ismt#
				  , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				  , #revnAddr#  
               FROM YE167060 
			 	WHERE DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
								AND SYSTEMKEY=#systemkey#   
			 )
				 
		]]>
	</insert>
		
	 
	
	<!--  개인연금저축  --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_D101Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET  YR2000_PNSN_SVNG_USE_AMT=NVL((SELECT SUM(NVL(PNSN_SVNG_ACC_PYM_AMT,0))
			 								FROM	 YE162010 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											 	AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
												AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
												AND BB.SYSTEMKEY=AA.SYSTEMKEY 
												AND BB.PNSN_SVNG_ACC_PNSN_SVNG_CL = 'Y0040030'
			  							  ),0) 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
	
		<!--  신용카드   --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_G106Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070  AA
			SET  CRDC_USE_AMT= NVL((SELECT SUM(NVL(CRDC_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			  	,  TDMR_USE_AMT= NVL((SELECT SUM(NVL(TDMR_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			    ,  PBT_USE_AMT= NVL((SELECT SUM(NVL(PBT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  						 					 
			    ,  BOOK_SHOW_AMT= NVL((SELECT SUM(NVL(BOOK_SHOW_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  						 					 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
	<!-- 도서구입 포함  -->
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_G107Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070  AA
			SET  CRDC_USE_AMT= NVL((SELECT SUM(NVL(CRDC_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			  	,  TDMR_USE_AMT= NVL((SELECT SUM(NVL(TDMR_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			    ,  PBT_USE_AMT= NVL((SELECT SUM(NVL(PBT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  						 					 
			    ,  BOOK_SHOW_AMT= NVL((SELECT SUM(NVL(BOOK_SHOW_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  						 					 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
		
			<!--  현금영수증   --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_G206Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET  CSHPT_USE_AMT= NVL((SELECT SUM(NVL(CSHPT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			  	,  TDMR_USE_AMT= NVL((SELECT SUM(NVL(TDMR_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			    ,  PBT_USE_AMT= NVL((SELECT SUM(NVL(PBT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
			    ,  BOOK_SHOW_AMT= NVL((SELECT SUM(NVL(BOOK_SHOW_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>

	<!-- 도서구입 포함  -->
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_G207Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET  CSHPT_USE_AMT= NVL((SELECT SUM(NVL(CSHPT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			  	,  TDMR_USE_AMT= NVL((SELECT SUM(NVL(TDMR_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			    ,  PBT_USE_AMT= NVL((SELECT SUM(NVL(PBT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
			    ,  BOOK_SHOW_AMT= NVL((SELECT SUM(NVL(BOOK_SHOW_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
	
			<!--  직불카드    --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_G306Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET  DRTP_CARD_USE_AMT= NVL((SELECT SUM(NVL(DRTP_CARD_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			  	,  TDMR_USE_AMT= NVL((SELECT SUM(NVL(TDMR_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			    ,  PBT_USE_AMT= NVL((SELECT SUM(NVL(PBT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
			    ,  BOOK_SHOW_AMT= NVL((SELECT SUM(NVL(BOOK_SHOW_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>

	<!-- 도서구입 포함  -->
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_G307Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET  DRTP_CARD_USE_AMT= NVL((SELECT SUM(NVL(DRTP_CARD_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			  	,  TDMR_USE_AMT= NVL((SELECT SUM(NVL(TDMR_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0)  
			    ,  PBT_USE_AMT= NVL((SELECT SUM(NVL(PBT_DDC_TRGT_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
			    ,  BOOK_SHOW_AMT= NVL((SELECT SUM(NVL(BOOK_SHOW_AMT,0)) 
			 								FROM	 YE161040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
											AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
											AND BB.SYSTEMKEY=AA.SYSTEMKEY  
			  						 ),0) 					 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
		<!--  주택마련저축   --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_J301Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET SBC_SVNG_USE_AMT	= NVL((SELECT SUM(NVL(HSNG_PRPT_SVNG_PYM_AMT,0))
			 								FROM	 YE162030 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											 	AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
												AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
												AND BB.SYSTEMKEY=AA.SYSTEMKEY 
												AND BB.HSNG_PRPT_SVNG_SVNG_CL = 'Y0040050'
			  							  ),0)   /* 주택마련저축_청약저축납입금액  */
			,HSNG_SVNG_USE_AMT	= NVL((SELECT SUM(NVL(HSNG_PRPT_SVNG_PYM_AMT,0))
			 								FROM	 YE162030 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											 	AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
												AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
												AND BB.SYSTEMKEY=AA.SYSTEMKEY 
												AND BB.HSNG_PRPT_SVNG_SVNG_CL = 'Y0040060'
			  							  ),0)  /* 주택마련저축_근로자주택마련저축납입금액  */
			,LBRR_PRPT_SVNG_USE_AMT	= NVL((SELECT SUM(NVL(HSNG_PRPT_SVNG_PYM_AMT,0))
			 								FROM	 YE162030 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											 	AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
												AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
												AND BB.SYSTEMKEY=AA.SYSTEMKEY 
												AND BB.HSNG_PRPT_SVNG_SVNG_CL = 'Y0040080'
			  							  ),0)    /* 주택마련저축_주택청약종합저축납입금액  */
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
	
	<!--  소상공인공제   --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_K101M_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070  AA
			SET  SMCE_SBIZ_USE_AMT=NVL((SELECT SUM(NVL(BUSN_AMT_SUM,0))
			 								FROM	 PDF_K101Y BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											 	AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
												AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
												AND BB.SYSTEMKEY=AA.SYSTEMKEY 
												AND BB.DAT_CD = 'G0019'
			  							  ),0) 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
						AND YRTX_BLGG_YR=#yrtxBlggYr#
						AND CLUT_SEPT_CD=#clutSeptCd#
						AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
		<!--  장기집합   --> 
	<update id="infcPkgYe161070_2018_DAO.fnYeta3200_N101Y_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070 AA
			SET LTRM_CNI_SS_USE_AMT	= NVL((SELECT SUM(NVL(LTRM_CNI_SS_PYM_AMT,0))
			 								FROM	 YE162040 BB
			 							   WHERE BB.DPOB_CD=AA.DPOB_CD
											 	AND BB.YRTX_BLGG_YR=AA.YRTX_BLGG_YR
												AND BB.CLUT_SEPT_CD=AA.CLUT_SEPT_CD
												AND BB.SYSTEMKEY=AA.SYSTEMKEY 
												AND BB.LTRM_CNI_SSFNN_CL = 'Y0040110'
			  							  ),0)   
		 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				 , REVN_ADDR=#inptAddr#
				WHERE DPOB_CD=#dpobCd#
				  AND YRTX_BLGG_YR=#yrtxBlggYr#
				  AND CLUT_SEPT_CD=#clutSeptCd#
				  AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
	<!-- 합계 계 구하기  -->
	<update id="infcPkgYe161070_2018_DAO.incDdcYeta2018_All_YE161070_2018_Update_S">
		<![CDATA[
			UPDATE YE161070
			SET   HSNG_INC_USE_AMT_SUM = (SBC_SVNG_USE_AMT + LBRR_PRPT_SVNG_USE_AMT + HSNG_SVNG_USE_AMT)		/* 주택마련저축_소득공제합계		*/
				 ,IVCP_INVM_USE_AMT_SUM = (CPIV16_ASCT_USE_AMT + CPIV16_VNT_USE_AMT + CPIV17_ASCT_USE_AMT + CPIV17_VNT_USE_AMT + CPIV18_ASCT_USE_AMT + CPIV18_VNT_USE_AMT) /* 투자조합출자등소득공제납입금액계      */
				 ,CRDC_SUM_USE_AMT = (CRDC_USE_AMT + DRTP_CARD_USE_AMT+ CSHPT_USE_AMT + TDMR_USE_AMT + PBT_USE_AMT + BOOK_SHOW_AMT)		/* 신용카드등사용액합계		*/ 
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
						WHERE DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
								AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
<!-- +++++++++++++++++++++++++ 2017년도 귀속 로직  종료 ++++++++++++++++++++++++++++++ -->

	<insert id="infcPkgYe161070_2018_DAO.insertYe161070_S">
		<![CDATA[
				INSERT INTO YE161070 
				( DPOB_CD
				  , YRTX_BLGG_YR
				  , CLUT_SEPT_CD
				  , SYSTEMKEY
				  , YR2000_PNSN_SVNG_USE_AMT
				  , YR2000_PNSN_SVNG_DDC_AMT
				  , SMCE_SBIZ_USE_AMT
				  , SMCE_SBIZ_DDC_AMT
				  , SBC_SVNG_USE_AMT
				  , SBC_SVNG_DDC_AMT
				  , LBRR_PRPT_SVNG_USE_AMT
				  , LBRR_PRPT_SVNG_DDC_AMT
				  , HSNG_SVNG_USE_AMT
				  , HSNG_SVNG_DDC_AMT
				  , HSNG_INC_USE_AMT_SUM
				  , HSNG_INC_DDC_AMT_SUM
				  , CPIV16_ASCT_USE_AMT
				  , CPIV16_ASCT_DDC_AMT
				  , CPIV16_VNT_USE_AMT
				  , CPIV16_VNT_DDC_AMT
				  , CPIV17_ASCT_USE_AMT
				  , CPIV17_ASCT_DDC_AMT
				  , CPIV17_VNT_USE_AMT
				  , CPIV17_VNT_DDC_AMT
				  , CPIV18_ASCT_USE_AMT
				  , CPIV18_ASCT_DDC_AMT
				  , CPIV18_VNT_USE_AMT
				  , CPIV18_VNT_DDC_AMT
				  , IVCP_INVM_USE_AMT_SUM
				  , IVCP_INVM_DDC_AMT_SUM
				  , CRDC_USE_AMT
				  , DRTP_CARD_USE_AMT
				  , CSHPT_USE_AMT
				  , TDMR_USE_AMT
				  , PBT_USE_AMT
				  , BOOK_SHOW_AMT
				  , TDMR_USE_AMT
				  , CRDC_SUM_USE_AMT
				  , RDC_SUM_DDC_AMT
				  , PRS_CRDC_USE_AMT1
				  , TY_YR_PRS_CRDC_USE_AMT
				  , PYR_PRS_ADD_DDCRT_USE_AMT
				  , TY_SHFY_PRS_ADD_DDCRT_USE_AMT
				  , EMST_ASCT_CNTR_USE_AMT
				  , EMST_ASCT_CNTR_DDC_AMT
				  , EMP_MNTN_SNMC_USE_AMT
				  , EMP_MNTN_SNMC_DDC_AMT
				  , LTRM_CNI_SS_USE_AMT
				  , LTRM_CNI_SS_DDC_AMT
				  , KYBDR
				  , INPT_DT
				  , INPT_ADDR
				  , ISMT
				  , REVN_DT
				  , REVN_ADDR )
			VALUES ( #dpobCd#
				  , #yrtxBlggYr#
				  , #clutSeptCd#
				  , #systemkey#
				  , #yr2000PnsnSvngUseAmt#
				  , #yr2000PnsnSvngDdcAmt#
				  , #smceSbizUseAmt#
				  , #smceSbizDdcAmt#
				  , #sbcSvngUseAmt#
				  , #sbcSvngDdcAmt#
				  , #lbrrPrptSvngUseAmt#
				  , #lbrrPrptSvngDdcAmt#
				  , #hsngSvngUseAmt#
				  , #hsngSvngDdcAmt#
				  , #hsngIncUseAmtSum#
				  , #hsngIncDdcAmtSum#
				  , #cpiv16AsctUseAmt#
				  , #cpiv16AsctDdcAmt#
				  , #cpiv16VntUseAmt#
				  , #cpiv16VntDdcAmt#
				  , #cpiv17AsctUseAmt#
				  , #cpiv17AsctDdcAmt#
				  , #cpiv17VntUseAmt#
				  , #cpiv17VntDdcAmt#
				  , #cpiv18AsctUseAmt#
				  , #cpiv18AsctDdcAmt#
				  , #cpiv18VntUseAmt#
				  , #cpiv18VntDdcAmt#
				  , #ivcpInvmUseAmtSum#
				  , #ivcpInvmDdcAmtSum#
				  , #crdcUseAmt#
				  , #drtpCardUseAmt#
				  , #cshptUseAmt#
				  , #tdmrUseAmt#
				  , #pbtUseAmt#
				  , #bookShowAmt#
				  , #crdcSumUseAmt#
				  , #rdcSumDdcAmt#
				  , #prsCrdcUseAmt1#
				  , #tyYrPrsCrdcUseAmt#
				  , #pyrPrsAddDdcrtUseAmt#
				  , #tyShfyPrsAddDdcrtUseAmt#
				  , #emstAsctCntrUseAmt#
				  , #emstAsctCntrDdcAmt#
				  , #empMntnSnmcUseAmt#
				  , #empMntnSnmcDdcAmt#
				  , #ltrmCniSsUseAmt#
				  , #ltrmCniSsDdcAmt# 
				  , #kybdr#
				  , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				  , #inptAddr#
				  , #ismt#
				  , TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				  , #revnAddr# )
		]]>
	</insert>
	
	<update id="infcPkgYe161070_2018_DAO.updateYe161070_S">
		<![CDATA[
			UPDATE YE161070
			SET DPOB_CD=#dpobCd#
				, YRTX_BLGG_YR=#yrtxBlggYr#
				, CLUT_SEPT_CD=#clutSeptCd#
				, SYSTEMKEY=#systemkey#
				, YR2000_PNSN_SVNG_USE_AMT=#yr2000PnsnSvngUseAmt#
				, YR2000_PNSN_SVNG_DDC_AMT=#yr2000PnsnSvngDdcAmt#
				, SMCE_SBIZ_USE_AMT=#smceSbizUseAmt#
				, SMCE_SBIZ_DDC_AMT=#smceSbizDdcAmt#
				, SBC_SVNG_USE_AMT=#sbcSvngUseAmt#
				, SBC_SVNG_DDC_AMT=#sbcSvngDdcAmt#
				, LBRR_PRPT_SVNG_USE_AMT=#lbrrPrptSvngUseAmt#
				, LBRR_PRPT_SVNG_DDC_AMT=#lbrrPrptSvngDdcAmt#
				, HSNG_SVNG_USE_AMT=#hsngSvngUseAmt#
				, HSNG_SVNG_DDC_AMT=#hsngSvngDdcAmt#
				, HSNG_INC_USE_AMT_SUM=#hsngIncUseAmtSum#
				, HSNG_INC_DDC_AMT_SUM=#hsngIncDdcAmtSum#
				, CPIV16_ASCT_USE_AMT=#cpiv16AsctUseAmt#
				, CPIV16_ASCT_DDC_AMT=#cpiv16AsctDdcAmt#
				, CPIV16_VNT_USE_AMT=#cpiv16VntUseAmt#
				, CPIV16_VNT_DDC_AMT=#cpiv16VntDdcAmt#
				, CPIV17_ASCT_USE_AMT=#cpiv17AsctUseAmt#
				, CPIV17_ASCT_DDC_AMT=#cpiv17AsctDdcAmt#
				, CPIV17_VNT_USE_AMT=#cpiv17VntUseAmt#
				, CPIV17_VNT_DDC_AMT=#cpiv17VntDdcAmt#
				, CPIV18_ASCT_USE_AMT=#cpiv18AsctUseAmt#
				, CPIV18_ASCT_DDC_AMT=#cpiv18AsctDdcAmt#
				, CPIV18_VNT_USE_AMT=#cpiv18VntUseAmt#
				, CPIV18_VNT_DDC_AMT=#cpiv18VntDdcAmt#
				, IVCP_INVM_USE_AMT_SUM=#ivcpInvmUseAmtSum#
				, IVCP_INVM_DDC_AMT_SUM=#ivcpInvmDdcAmtSum#
				, CRDC_USE_AMT=#crdcUseAmt#
				, DRTP_CARD_USE_AMT=#drtpCardUseAmt#
				, CSHPT_USE_AMT=#cshptUseAmt#
				, TDMR_USE_AMT=#tdmrUseAmt#
				, PBT_USE_AMT=#pbtUseAmt#
				, BOOK_SHOW_AMT=#bookShowAmt#
				, CRDC_SUM_USE_AMT=#crdcSumUseAmt#
				, RDC_SUM_DDC_AMT=#rdcSumDdcAmt#
				, PRS_CRDC_USE_AMT1=#prsCrdcUseAmt1#
				, TY_YR_PRS_CRDC_USE_AMT=#tyYrPrsCrdcUseAmt#
				, PYR_PRS_ADD_DDCRT_USE_AMT=#pyrPrsAddDdcrtUseAmt#
				, TY_SHFY_PRS_ADD_DDCRT_USE_AMT=#tyShfyPrsAddDdcrtUseAmt#
				, EMST_ASCT_CNTR_USE_AMT=#emstAsctCntrUseAmt#
				, EMST_ASCT_CNTR_DDC_AMT=#emstAsctCntrDdcAmt#
				, EMP_MNTN_SNMC_USE_AMT=#empMntnSnmcUseAmt#
				, EMP_MNTN_SNMC_DDC_AMT=#empMntnSnmcDdcAmt#
				, LTRM_CNI_SS_USE_AMT=#ltrmCniSsUseAmt#
				, LTRM_CNI_SS_DDC_AMT=#ltrmCniSsDdcAmt#
		      , KYBDR=#kybdr#
				, INPT_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
				, INPT_ADDR=#inptAddr#
				, ISMT=#ismt#
				, REVN_DT=TO_CHAR(SYSDATE,'YYYYMMDDHHMISS')
						WHERE DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
								AND SYSTEMKEY=#systemkey# 
				]]>
	</update>
	
	<delete id="infcPkgYe161070_2018_DAO.deleteYe161070_S">
		<![CDATA[
			DELETE FROM YE161070 
						WHERE DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
								AND SYSTEMKEY=#systemkey#
				]]>
	</delete>
	
	<select id="infcPkgYe161070_2018_DAO.selectYe161070_S" resultMap="infcPkgYe161070_2018">
		<![CDATA[
			SELECT
				DPOB_CD
				, YRTX_BLGG_YR
				, CLUT_SEPT_CD
				, SYSTEMKEY
				, YR2000_PNSN_SVNG_USE_AMT
				, YR2000_PNSN_SVNG_DDC_AMT
				, SMCE_SBIZ_USE_AMT
				, SMCE_SBIZ_DDC_AMT
				, SBC_SVNG_USE_AMT
				, SBC_SVNG_DDC_AMT
				, LBRR_PRPT_SVNG_USE_AMT
				, LBRR_PRPT_SVNG_DDC_AMT
				, HSNG_SVNG_USE_AMT
				, HSNG_SVNG_DDC_AMT
				, HSNG_INC_USE_AMT_SUM
				, HSNG_INC_DDC_AMT_SUM
				, CPIV14_ASCT_USE_AMT
				, CPIV14_ASCT_DDC_AMT
				, CPIV14_VNT_USE_AMT
				, CPIV14_VNT_DDC_AMT
				, CPIV15_ASCT_USE_AMT
				, CPIV15_ASCT_DDC_AMT
				, CPIV15_VNT_USE_AMT
				, CPIV15_VNT_DDC_AMT
				, CPIV16_ASCT_USE_AMT
				, CPIV16_ASCT_DDC_AMT
				, CPIV16_VNT_USE_AMT
				, CPIV16_VNT_DDC_AMT
				, CPIV17_ASCT_USE_AMT
				, CPIV17_ASCT_DDC_AMT
				, CPIV17_VNT_USE_AMT
				, CPIV17_VNT_DDC_AMT
				, CPIV18_ASCT_USE_AMT
				, CPIV18_ASCT_DDC_AMT
				, CPIV18_VNT_USE_AMT
				, CPIV18_VNT_DDC_AMT
				, IVCP_INVM_USE_AMT_SUM
				, IVCP_INVM_DDC_AMT_SUM
				, CRDC_USE_AMT
				, DRTP_CARD_USE_AMT
				, CSHPT_USE_AMT
				, TDMR_USE_AMT
				, PBT_USE_AMT
				, BOOK_SHOW_AMT
				, CRDC_SUM_USE_AMT
				, RDC_SUM_DDC_AMT
				, PRS_CRDC_USE_AMT1
				, TY_YR_PRS_CRDC_USE_AMT
				, PYR_PRS_ADD_DDCRT_USE_AMT
				, TY_SHFY_PRS_ADD_DDCRT_USE_AMT
				, EMST_ASCT_CNTR_USE_AMT
				, EMST_ASCT_CNTR_DDC_AMT
				, EMP_MNTN_SNMC_USE_AMT
				, EMP_MNTN_SNMC_DDC_AMT
				, LTRM_CNI_SS_USE_AMT
				, LTRM_CNI_SS_DDC_AMT
				, KYBDR
				, INPT_DT
				, INPT_ADDR
				, ISMT
				, REVN_DT
				, REVN_ADDR
			FROM YE161070
						WHERE DPOB_CD=#dpobCd#
								AND YRTX_BLGG_YR=#yrtxBlggYr#
								AND CLUT_SEPT_CD=#clutSeptCd#
								AND SYSTEMKEY=#systemkey#
				]]>
	</select>
	
	<select id="infcPkgYe161070_2018_DAO.selectYe161070List_D" parameterClass="infcPkgYe161070Srh_2018_VO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
				SELECT
							DPOB_CD
								, YRTX_BLGG_YR
								, CLUT_SEPT_CD
								, SYSTEMKEY
								, YR2000_PNSN_SVNG_USE_AMT
								, YR2000_PNSN_SVNG_DDC_AMT
								, SMCE_SBIZ_USE_AMT
								, SMCE_SBIZ_DDC_AMT
								, SBC_SVNG_USE_AMT
								, SBC_SVNG_DDC_AMT
								, LBRR_PRPT_SVNG_USE_AMT
								, LBRR_PRPT_SVNG_DDC_AMT
								, HSNG_SVNG_USE_AMT
								, HSNG_SVNG_DDC_AMT
								, HSNG_INC_USE_AMT_SUM
								, HSNG_INC_DDC_AMT_SUM
								, CPIV14_ASCT_USE_AMT
								, CPIV14_ASCT_DDC_AMT
								, CPIV14_VNT_USE_AMT
								, CPIV14_VNT_DDC_AMT
								, CPIV15_ASCT_USE_AMT
								, CPIV15_ASCT_DDC_AMT
								, CPIV15_VNT_USE_AMT
								, CPIV15_VNT_DDC_AMT
								, CPIV16_ASCT_USE_AMT
								, CPIV16_ASCT_DDC_AMT
								, CPIV16_VNT_USE_AMT
								, CPIV16_VNT_DDC_AMT
								, CPIV17_ASCT_USE_AMT
								, CPIV17_ASCT_DDC_AMT
								, CPIV17_VNT_USE_AMT
								, CPIV17_VNT_DDC_AMT
								, CPIV18_ASCT_USE_AMT
								, CPIV18_ASCT_DDC_AMT
								, CPIV18_VNT_USE_AMT
								, CPIV18_VNT_DDC_AMT
								, IVCP_INVM_USE_AMT_SUM
								, IVCP_INVM_DDC_AMT_SUM
								, CRDC_USE_AMT
								, DRTP_CARD_USE_AMT
								, CSHPT_USE_AMT
								, TDMR_USE_AMT
								, PBT_USE_AMT
								, BOOK_SHOW_AMT
								, CRDC_SUM_USE_AMT
								, RDC_SUM_DDC_AMT
								, PRS_CRDC_USE_AMT1
								, TY_YR_PRS_CRDC_USE_AMT
								, PYR_PRS_ADD_DDCRT_USE_AMT
								, TY_SHFY_PRS_ADD_DDCRT_USE_AMT
								, EMST_ASCT_CNTR_USE_AMT
								, EMST_ASCT_CNTR_DDC_AMT
								, EMP_MNTN_SNMC_USE_AMT
								, EMP_MNTN_SNMC_DDC_AMT
								, LTRM_CNI_SS_USE_AMT
								, LTRM_CNI_SS_DDC_AMT
								, KYBDR
								, INPT_DT
								, INPT_ADDR
								, ISMT
								, REVN_DT
								, REVN_ADDR
						FROM YE161070
				WHERE 1=1
				<isEqual prepend="AND" property="searchCondition" compareValue="0">
					DPOB_CD = #searchKeyword#
				</isEqual>
				<isEqual prepend="AND" property="searchCondition" compareValue="1">
					YRTX_BLGG_YR LIKE '%' || #searchKeyword# || '%'
				</isEqual>
					ORDER BY 
						DPOB_CD DESC
							, YRTX_BLGG_YR DESC
							, CLUT_SEPT_CD DESC
							, SYSTEMKEY DESC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM > #firstIndex#
]]>
	</select>	
	<select id="infcPkgYe161070_2018_DAO.selectYe161070ListTotCnt_S" parameterClass="infcPkgYe161070Srh_2018_VO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM YE161070
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				DPOB_CD = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				YRTX_BLGG_YR LIKE '%' || #searchKeyword# || '%'
			</isEqual>
	</select>

</sqlMap>
