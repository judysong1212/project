<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="InfcPkgYeta3300">
	
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="infcPkgYeta3300SerarchVO" type="com.app.smrmf.infc.yearendtax.server.vo.InfcPkgYeta3300SrhVO"/>
	
	<resultMap id="infcPkgYeta3300" class="com.app.smrmf.infc.yearendtax.server.vo.InfcPkgYeta3300VO">
		<result property="dpobCd" column="DPOB_CD" columnIndex="1"/>
		<result property="edacRvyy" column="EDAC_RVYY" columnIndex="2"/>
		<result property="settGbcd" column="SETT_GBCD" columnIndex="3"/>
		<result property="siteNumb" column="SITE_NUMB" columnIndex="4"/>
		<result property="systemkey" column="SYSTEMKEY" columnIndex="5"/>
		<result property="taxmSa01" column="TAXM_SA01" columnIndex="6"/>
		<result property="taxmSb01" column="TAXM_SB01" columnIndex="7"/>
		<result property="taxmSc01" column="TAXM_SC01" columnIndex="8"/>
		<result property="taxmSd01" column="TAXM_SD01" columnIndex="9"/>
		<result property="taxmSe01" column="TAXM_SE01" columnIndex="10"/>
		<result property="taxmSe02" column="TAXM_SE02" columnIndex="11"/>
		<result property="taxmSe10" column="TAXM_SE10" columnIndex="12"/>
		<result property="taxmSf01" column="TAXM_SF01" columnIndex="13"/>
		<result property="taxmSg01" column="TAXM_SG01" columnIndex="14"/>
		<result property="taxmSh01" column="TAXM_SH01" columnIndex="15"/>
		<result property="taxmSh02" column="TAXM_SH02" columnIndex="16"/>
		<result property="taxmSh03" column="TAXM_SH03" columnIndex="17"/>
		<result property="taxmSh04" column="TAXM_SH04" columnIndex="18"/>
		<result property="taxmSh05" column="TAXM_SH05" columnIndex="19"/>
		<result property="taxmSh06" column="TAXM_SH06" columnIndex="20"/>
		<result property="taxmSh07" column="TAXM_SH07" columnIndex="21"/>
		<result property="taxmSh08" column="TAXM_SH08" columnIndex="22"/>
		<result property="taxmSh09" column="TAXM_SH09" columnIndex="23"/>
		<result property="taxmSh10" column="TAXM_SH10" columnIndex="24"/>
		<result property="taxmSh14" column="TAXM_SH14" columnIndex="25"/>
		<result property="taxmSh15" column="TAXM_SH15" columnIndex="26"/>
		<result property="taxmSh11" column="TAXM_SH11" columnIndex="27"/>
		<result property="taxmSh12" column="TAXM_SH12" columnIndex="28"/>
		<result property="taxmSh13" column="TAXM_SH13" columnIndex="29"/>
		<result property="taxmSh16" column="TAXM_SH16" columnIndex="30"/>
		<result property="taxmSi01" column="TAXM_SI01" columnIndex="31"/>
		<result property="taxmSj01" column="TAXM_SJ01" columnIndex="32"/>
		<result property="taxmSj10" column="TAXM_SJ10" columnIndex="33"/>
		<result property="taxmSk01" column="TAXM_SK01" columnIndex="34"/>
		<result property="taxmSl01" column="TAXM_SL01" columnIndex="35"/>
		<result property="taxmSm01" column="TAXM_SM01" columnIndex="36"/>
		<result property="taxmSm02" column="TAXM_SM02" columnIndex="37"/>
		<result property="taxmSm03" column="TAXM_SM03" columnIndex="38"/>
		<result property="taxmSn01" column="TAXM_SN01" columnIndex="39"/>
		<result property="taxmSo01" column="TAXM_SO01" columnIndex="40"/>
		<result property="taxmSp01" column="TAXM_SP01" columnIndex="41"/>
		<result property="taxmSp02" column="TAXM_SP02" columnIndex="42"/>
		<result property="taxmSq01" column="TAXM_SQ01" columnIndex="43"/>
		<result property="taxmSr01" column="TAXM_SR01" columnIndex="44"/>
		<result property="taxmSr10" column="TAXM_SR10" columnIndex="45"/>
		<result property="taxmSs01" column="TAXM_SS01" columnIndex="46"/>
		<result property="taxmSy02" column="TAXM_SY02" columnIndex="47"/>
		<result property="taxmSy03" column="TAXM_SY03" columnIndex="48"/>
		<result property="taxmSy21" column="TAXM_SY21" columnIndex="49"/>
		<result property="taxmSy22" column="TAXM_SY22" columnIndex="50"/>
		<result property="taxmSt01" column="TAXM_ST01" columnIndex="51"/>
		<result property="taxmSt10" column="TAXM_ST10" columnIndex="52"/>
		<result property="taxmSt20" column="TAXM_ST20" columnIndex="53"/>
		<result property="kybdr" column="KYBDR" columnIndex="54"/>
		<result property="inptDt" column="INPT_DT" columnIndex="55"/>
		<result property="inptAddr" column="INPT_ADDR" columnIndex="56"/>
		<result property="ismt" column="ISMT" columnIndex="57"/>
		<result property="revnDt" column="REVN_DT" columnIndex="58"/>
		<result property="revnAddr" column="REVN_ADDR" columnIndex="59"/>
	</resultMap>
	
	<insert id="infcPkgYeta3300DAO.insertYetaPrc3300_S">
		<![CDATA[
			INSERT INTO YETA3300 
				( DPOB_CD
				  , EDAC_RVYY
				  , SETT_GBCD
				  ,SITE_NUMB
				  , SYSTEMKEY
				  , TAXM_SA01
				  , TAXM_SB01
				  , TAXM_SC01
				  , TAXM_SD01
				  , TAXM_SE01
				  , TAXM_SE02
				  , TAXM_SE10
				  , TAXM_SF01
				  , TAXM_SG01
				  , TAXM_SH01
				  , TAXM_SH02
				  , TAXM_SH03
				  , TAXM_SH04
				  , TAXM_SH05
				  , TAXM_SH06
				  , TAXM_SH07
				  , TAXM_SH08
				  , TAXM_SH09
				  , TAXM_SH10
				  , TAXM_SH14
				  , TAXM_SH15
				  , TAXM_SH11
				  , TAXM_SH12
				  , TAXM_SH13
				  , TAXM_SH16
				  , TAXM_SI01
				  , TAXM_SJ01
				  , TAXM_SJ10
				  , TAXM_SK01
				  , TAXM_SL01
				  , TAXM_SM01
				  , TAXM_SM02
				  , TAXM_SM03
				  , TAXM_SN01
				  , TAXM_SO01
				  , TAXM_SP01
				  , TAXM_SP02
				  , TAXM_SQ01
				  , TAXM_SR01
				  , TAXM_SR10
				  , TAXM_SS01
				  , TAXM_SY02
				  , TAXM_SY03
				  , TAXM_SY21
				  , TAXM_SY22
				  , TAXM_ST01
				  , TAXM_ST10
				  , TAXM_ST20
				  , KYBDR
				  , INPT_DT
				  , INPT_ADDR
				  , ISMT
				  , REVN_DT
				  , REVN_ADDR )
			VALUES ( #dpobCd#
				  , #edacRvyy#
				  , #settGbcd#
				   , #siteNumb#
				  , #systemkey#
				  , #taxmSa01#
				  , #taxmSb01#
				  , #taxmSc01#
				  , #taxmSd01#
				  , #taxmSe01#
				  , #taxmSe02#
				  , #taxmSe10#
				  , #taxmSf01#
				  , #taxmSg01#
				  , #taxmSh01#
				  , #taxmSh02#
				  , #taxmSh03#
				  , #taxmSh04#
				  , #taxmSh05#
				  , #taxmSh06#
				  , #taxmSh07#
				  , #taxmSh08#
				  , #taxmSh09#
				  , #taxmSh10#
				  , #taxmSh14#
				  , #taxmSh15#
				  , #taxmSh11#
				  , #taxmSh12#
				  , #taxmSh13#
				  , #taxmSh16#
				  , #taxmSi01#
				  , #taxmSj01#
				  , #taxmSj10#
				  , #taxmSk01#
				  , #taxmSl01#
				  , #taxmSm01#
				  , #taxmSm02#
				  , #taxmSm03#
				  , #taxmSn01#
				  , #taxmSo01#
				  , #taxmSp01#
				  , #taxmSp02#
				  , #taxmSq01#
				  , #taxmSr01#
				  , #taxmSr10#
				  , #taxmSs01#
				  , #taxmSy02#
				  , #taxmSy03#
				  , #taxmSy21#
				  , #taxmSy22#
				  , #taxmSt01#
				  , #taxmSt10#
				  , #taxmSt20#
				  , #kybdr#
				  , #inptDt#
				  , #inptAddr#
				  , #ismt#
				  , #revnDt#
				  , #revnAddr# )
		]]>
	</insert>
	
	<update id="infcPkgYeta3300DAO.updateYetaPrc3300_S">
		<![CDATA[
			UPDATE YETA3300
			SET DPOB_CD=#dpobCd#
				, EDAC_RVYY=#edacRvyy#
				, SETT_GBCD=#settGbcd#
				, SYSTEMKEY=#systemkey#
				, SITE_NUMB=#siteNumb#
				, TAXM_SA01=#taxmSa01#
				, TAXM_SB01=#taxmSb01#
				, TAXM_SC01=#taxmSc01#
				, TAXM_SD01=#taxmSd01#
				, TAXM_SE01=#taxmSe01#
				, TAXM_SE02=#taxmSe02#
				, TAXM_SE10=#taxmSe10#
				, TAXM_SF01=#taxmSf01#
				, TAXM_SG01=#taxmSg01#
				, TAXM_SH01=#taxmSh01#
				, TAXM_SH02=#taxmSh02#
				, TAXM_SH03=#taxmSh03#
				, TAXM_SH04=#taxmSh04#
				, TAXM_SH05=#taxmSh05#
				, TAXM_SH06=#taxmSh06#
				, TAXM_SH07=#taxmSh07#
				, TAXM_SH08=#taxmSh08#
				, TAXM_SH09=#taxmSh09#
				, TAXM_SH10=#taxmSh10#
				, TAXM_SH14=#taxmSh14#
				, TAXM_SH15=#taxmSh15#
				, TAXM_SH11=#taxmSh11#
				, TAXM_SH12=#taxmSh12#
				, TAXM_SH13=#taxmSh13#
				, TAXM_SH16=#taxmSh16#
				, TAXM_SI01=#taxmSi01#
				, TAXM_SJ01=#taxmSj01#
				, TAXM_SJ10=#taxmSj10#
				, TAXM_SK01=#taxmSk01#
				, TAXM_SL01=#taxmSl01#
				, TAXM_SM01=#taxmSm01#
				, TAXM_SM02=#taxmSm02#
				, TAXM_SM03=#taxmSm03#
				, TAXM_SN01=#taxmSn01#
				, TAXM_SO01=#taxmSo01#
				, TAXM_SP01=#taxmSp01#
				, TAXM_SP02=#taxmSp02#
				, TAXM_SQ01=#taxmSq01#
				, TAXM_SR01=#taxmSr01#
				, TAXM_SR10=#taxmSr10#
				, TAXM_SS01=#taxmSs01#
				, TAXM_SY02=#taxmSy02#
				, TAXM_SY03=#taxmSy03#
				, TAXM_SY21=#taxmSy21#
				, TAXM_SY22=#taxmSy22#
				, TAXM_ST01=#taxmSt01#
				, TAXM_ST10=#taxmSt10#
				, TAXM_ST20=#taxmSt20#
				, KYBDR=#kybdr#
				, INPT_DT=#inptDt#
				, INPT_ADDR=#inptAddr#
				, ISMT=#ismt#
				, REVN_DT=#revnDt#
				, REVN_ADDR=#revnAddr#
						WHERE DPOB_CD=#dpobCd#
								AND EDAC_RVYY=#edacRvyy#
								AND SETT_GBCD=#settGbcd#
								AND SYSTEMKEY=#systemkey#
								AND SITE_NUMB=#siteNumb#
				]]>
	</update>
	
	<delete id="infcPkgYeta3300DAO.deleteYetaPrc3300_S">
		<![CDATA[
			DELETE FROM YETA3300 
						WHERE DPOB_CD=#dpobCd#
								AND EDAC_RVYY=#edacRvyy#
								AND SETT_GBCD=#settGbcd#
								AND SYSTEMKEY=#systemkey#
								AND  SITE_NUMB=#siteNumb#
				]]>
	</delete>
	
	<!--yeta0100 연말정산 대상자 삭제  -->
	 <delete id="infcPkgYeta3300DAO.fnPayr06430_Yeta3300_CREATE_Delete_S">
		<![CDATA[
			DELETE FROM YETA3300 
						WHERE DPOB_CD=#dpobCd#
								AND EDAC_RVYY=#edacRvyy#
								AND SETT_GBCD=#settGbcd# 
				]]>
				 <isNotEmpty prepend="AND" property="systemkey" >
                      SYSTEMKEY=#systemkey#
                   </isNotEmpty> 
	</delete>
	
	
	<select id="infcPkgYeta3300DAO.selectYetaPrc3300_S" resultMap="infcPkgYeta3300">
		<![CDATA[
			SELECT
				DPOB_CD
				, EDAC_RVYY
				, SETT_GBCD
				, SYSTEMKEY
				, SITE_NUMB 
				, TAXM_SA01
				, TAXM_SB01
				, TAXM_SC01
				, TAXM_SD01
				, TAXM_SE01
				, TAXM_SE02
				, TAXM_SE10
				, TAXM_SF01
				, TAXM_SG01
				, TAXM_SH01
				, TAXM_SH02
				, TAXM_SH03
				, TAXM_SH04
				, TAXM_SH05
				, TAXM_SH06
				, TAXM_SH07
				, TAXM_SH08
				, TAXM_SH09
				, TAXM_SH10
				, TAXM_SH14
				, TAXM_SH15
				, TAXM_SH11
				, TAXM_SH12
				, TAXM_SH13
				, TAXM_SH16
				, TAXM_SI01
				, TAXM_SJ01
				, TAXM_SJ10
				, TAXM_SK01
				, TAXM_SL01
				, TAXM_SM01
				, TAXM_SM02
				, TAXM_SM03
				, TAXM_SN01
				, TAXM_SO01
				, TAXM_SP01
				, TAXM_SP02
				, TAXM_SQ01
				, TAXM_SR01
				, TAXM_SR10
				, TAXM_SS01
				, TAXM_SY02
				, TAXM_SY03
				, TAXM_SY21
				, TAXM_SY22
				, TAXM_ST01
				, TAXM_ST10
				, TAXM_ST20
				, KYBDR
				, INPT_DT
				, INPT_ADDR
				, ISMT
				, REVN_DT
				, REVN_ADDR
			FROM YETA3300
						WHERE DPOB_CD=#dpobCd#
								AND EDAC_RVYY=#edacRvyy#
								AND SETT_GBCD=#settGbcd#
								AND SYSTEMKEY=#systemkey#
								AND  SITE_NUMB=#siteNumb#
				]]>
	</select>
	
	<select id="infcPkgYeta3300DAO.selectYetaPrc3300List_D" parameterClass="infcPkgYeta3300SerarchVO" resultClass="egovMap">
SELECT * FROM (
	SELECT A.*, ROWNUM RNUM FROM (
				SELECT
								DPOB_CD
								, EDAC_RVYY
								, SETT_GBCD
								, SYSTEMKEY
								, SITE_NUMB 
								, TAXM_SA01
								, TAXM_SB01
								, TAXM_SC01
								, TAXM_SD01
								, TAXM_SE01
								, TAXM_SE02
								, TAXM_SE10
								, TAXM_SF01
								, TAXM_SG01
								, TAXM_SH01
								, TAXM_SH02
								, TAXM_SH03
								, TAXM_SH04
								, TAXM_SH05
								, TAXM_SH06
								, TAXM_SH07
								, TAXM_SH08
								, TAXM_SH09
								, TAXM_SH10
								, TAXM_SH14
								, TAXM_SH15
								, TAXM_SH11
								, TAXM_SH12
								, TAXM_SH13
								, TAXM_SH16
								, TAXM_SI01
								, TAXM_SJ01
								, TAXM_SJ10
								, TAXM_SK01
								, TAXM_SL01
								, TAXM_SM01
								, TAXM_SM02
								, TAXM_SM03
								, TAXM_SN01
								, TAXM_SO01
								, TAXM_SP01
								, TAXM_SP02
								, TAXM_SQ01
								, TAXM_SR01
								, TAXM_SR10
								, TAXM_SS01
								, TAXM_SY02
								, TAXM_SY03
								, TAXM_SY21
								, TAXM_SY22
								, TAXM_ST01
								, TAXM_ST10
								, TAXM_ST20
								, KYBDR
								, INPT_DT
								, INPT_ADDR
								, ISMT
								, REVN_DT
								, REVN_ADDR
						FROM YETA3300
				WHERE 1=1
				<isEqual prepend="AND" property="searchCondition" compareValue="0">
					DPOB_CD = #searchKeyword#
				</isEqual>
				<isEqual prepend="AND" property="searchCondition" compareValue="1">
					EDAC_RVYY LIKE '%' || #searchKeyword# || '%'
				</isEqual>
					ORDER BY 
						DPOB_CD DESC
							, EDAC_RVYY DESC
							, SETT_GBCD DESC
							, SYSTEMKEY DESC
		
		<![CDATA[					
	) A WHERE ROWNUM <= #lastIndex#
)WHERE RNUM > #firstIndex#
]]>
	</select>	
	<select id="infcPkgYeta3300DAO.selectYetaPrc3300ListTotCnt_S" parameterClass="infcPkgYeta3300SerarchVO" resultClass="int">
			SELECT COUNT(*) totcnt
			FROM YETA3300
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				DPOB_CD = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				EDAC_RVYY LIKE '%' || #searchKeyword# || '%'
			</isEqual>
	</select>

</sqlMap>
